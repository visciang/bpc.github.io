(this.webpackJsonpbpc=this.webpackJsonpbpc||[]).push([[1],{107:function(e,n,t){},108:function(e,n,t){},109:function(e,n,t){"use strict";t.r(n);var a,r=t(0),l=t.n(r),o=t(32),c=t.n(o),i=t(1),s=t(58),u=t(19),m=t(13),d=t(24),f=t(3),A=t(4),b=t(23),v=t(8),g=t(60),p=t.n(g),O=function(e){var n=e.showAlert,t=e.setShowAlert,a='\n    <div class="ion-text-center">\n      <p>\n        <a href="mailto:panificazionefavaglie@gmail.com?subject=BakerCalc">\n          Info mail\n        </a>\n      </p>\n      <p>\n        If you like the App<br/>support me with a beer!<br/>Thank you\n      </p>\n      <p>\n        <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=YWVFRGAC55UX4">\n        <img src='.concat(p.a,">\n        </a>\n      </p>\n    </div>\n  ");return l.a.createElement(i.a,{isOpen:n,onDidDismiss:function(){return t(!1)},header:"Info",message:a})},j=O=l.a.memo(O),E=function(e){var n=e.title,t=e.editActive,a=e.onEditToggle,o=e.onSave,c=e.onReset,s=e.showInfo,u=e.children,m=Object(r.useState)(!1),d=Object(A.a)(m,2),f=d[0],b=d[1],g=Object(r.useCallback)((function(){return b(!0)}),[b]),p=a?l.a.createElement(i.c,{color:"dark",fill:t?"solid":void 0,onClick:a},l.a.createElement(i.i,{icon:v.o})):void 0,O=o?l.a.createElement(i.c,{color:"dark",routerLink:"/recipes",onClick:o},l.a.createElement(i.i,{icon:v.t})):void 0,E=s?l.a.createElement(i.c,{color:"dark",onClick:g},l.a.createElement(i.i,{icon:v.l})):void 0,h=c?l.a.createElement(i.c,{color:"dark",onClick:c},l.a.createElement(i.i,{icon:v.p})):void 0,k=s?l.a.createElement(j,{showAlert:f,setShowAlert:b}):void 0;return l.a.createElement(i.n,null,l.a.createElement(i.h,{translucent:!0},l.a.createElement(i.A,{color:"toolbar"},l.a.createElement(i.d,{slot:"start"},E,h),l.a.createElement(i.z,null,n),l.a.createElement(i.d,{slot:"end"},O,p))),l.a.createElement(i.f,{fullscreen:!0,className:"ion-padding"},l.a.createElement(i.h,{collapse:"condense",className:"ion-padding-bottom"},l.a.createElement(i.A,null,l.a.createElement(i.z,{size:"large"},n))),k,u))},h=function(e){var n=e.title,t=e.onDelete,a=t?l.a.createElement(i.c,{size:"small",slot:"end",onClick:t,fill:"clear"},l.a.createElement(i.i,{slot:"icon-only",icon:v.w})):void 0;return l.a.createElement(i.A,null,l.a.createElement(i.z,{className:"ion-text-center"},n),a)},k=h=l.a.memo(h),w=function(e){var n=e.onNewItem,t=Object(r.useState)(void 0),a=Object(A.a)(t,2),o=a[0],c=a[1],s=Object(r.useCallback)((function(){n(o),c(void 0)}),[o,n,c]),u=Object(r.useCallback)((function(e){c(y(e.detail.value))}),[c]);return l.a.createElement(i.k,{lines:"none"},l.a.createElement(i.j,{required:!0,type:"text",placeholder:"New ...",value:o,onIonChange:u}),l.a.createElement(i.c,{className:"ion-no-padding",onClick:s,fill:"clear",disabled:!(o&&void 0!==n)},l.a.createElement(i.i,{slot:"icon-only",icon:v.a})))},y=function(e){return(null===e||void 0===e?void 0:e.trim())?e.trim():void 0},C=w=l.a.memo(w),P=function(e,n){return function(t){var a,r;if(!(null===(a=t.detail.value)||void 0===a?void 0:a.endsWith(","))&&!(null===(r=t.detail.value)||void 0===r?void 0:r.endsWith("."))){var l=void 0;(l=t.detail.value?parseFloat(t.detail.value.replace(",",".")):void 0)!==e&&n(l)}}},R=function(){for(var e=0,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];for(var r=0,l=t;r<l.length;r++){var o,c=l[r],i=Object(d.a)(c);try{for(i.s();!(o=i.n()).done;){var s=o.value;e+=s||0}}catch(u){i.e(u)}finally{i.f()}}return e},S=function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)for(var a=0;a<n.length;a++)if(e[t]!==n[a])return!1;return!0},M=function(e,n){var t=new Map(e);return t.delete(n),t},B=function(e,n,t){var a=Object(f.a)(e),r=a[n];return a.splice(n,1),a.splice(t,0,r),new Map(a)},D=function(e){var n=e.name,t=e.value,a=e.maxPercentage,o=e.editable,c=e.onChange,s=e.onDelete,u=Object(r.useCallback)(P(t,(function(e){return c(n,e)})),[n,t,c]),m=l.a.createElement(l.a.Fragment,null);return o?s&&(m=l.a.createElement(l.a.Fragment,null,l.a.createElement(i.c,{slot:"end",onClick:function(){return s(n)},fill:"clear"},l.a.createElement(i.i,{slot:"icon-only",icon:v.w})),l.a.createElement(i.o,{slot:"end",className:"ion-no-margin"}))):m=l.a.createElement(l.a.Fragment,null,l.a.createElement(i.j,{className:"ion-padding-horizontal ion-text-right",type:"number",inputMode:"decimal",min:"0",max:null===a||void 0===a?void 0:a.toString(),value:t,onIonChange:u}),l.a.createElement(i.y,null,"%")),l.a.createElement(i.k,null,l.a.createElement(i.l,null,n),m)},I=D=l.a.memo(D),N=function(e){var n=e.title,t=e.ingredients,a=e.maxPercentage,o=e.editable,c=e.onIngredientsChange,s=Object(r.useCallback)((function(e,n){return c(new Map([].concat(Object(f.a)(t),[[e,n]])))}),[t,c]),u=Object(r.useCallback)((function(e){c(B(t,e.detail.from,e.detail.to)),e.detail.complete()}),[t,c]),m=Object(r.useCallback)((function(e){return c(new Map([].concat(Object(f.a)(t),[[e,void 0]])))}),[t,c]),d=Object(r.useCallback)((function(e){return c(M(t,e))}),[t,c]);return l.a.createElement(i.m,{lines:"none"},l.a.createElement(k,{title:n}),l.a.createElement(i.p,{disabled:!o,onIonItemReorder:u},Object(f.a)(t).map((function(e){var n=Object(A.a)(e,2),t=n[0],r=n[1];return l.a.createElement(I,{key:t,name:t,value:r,maxPercentage:a,editable:o,onChange:s,onDelete:d})}))),l.a.createElement(C,{onNewItem:m}))},F=N=l.a.memo(N),U=function(e){var n=e.flours,t=e.ingredients,a=e.editable,r=e.onFloursChange,o=e.onIngredientsChange;return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,{title:"FLOURS",ingredients:n,maxPercentage:100,onIngredientsChange:r,editable:a}),l.a.createElement(F,{title:"INGREDIENTS",ingredients:t,maxPercentage:void 0,onIngredientsChange:o,editable:a}))},x=U=l.a.memo(U);!function(e){e.PREDOUGH="PREDOUGH",e.SOURDOUGH="SOURDOUGH"}(a||(a={}));var T,G=function(e){var n=e.value,t=e.onSelect,o=Object(r.useCallback)((function(e){return e.detail.value&&t(e.detail.value)}),[t]);return l.a.createElement(i.k,{lines:"none",color:"light"},l.a.createElement(i.l,null,"Kind"),l.a.createElement(i.t,{interface:"popover",value:n,onIonChange:o},Object.keys(a).map((function(e){return l.a.createElement(i.u,{key:e,value:e},e)}))))},H=G=l.a.memo(G),L=function(e){var n=e.label,t=e.values,a=e.onPick,o=Object(r.useState)(void 0),c=Object(A.a)(o,2),s=c[0],u=c[1];return l.a.createElement(i.k,{lines:"none",color:"light"},l.a.createElement(i.l,null,n),l.a.createElement(i.t,{disabled:0===t.length,interface:"popover",value:s,onIonChange:function(e){e.detail.value&&(a(e.detail.value),u(void 0))}},Object(f.a)(t).map((function(e){return l.a.createElement(i.u,{key:e,value:e},e)}))))},W=L=l.a.memo(L),Q=function(e){var n=e.title,t=e.availableFlours,o=e.availableIngredients,c=e.preferment,s=e.editable,u=e.onPrefermentChange,d=e.onPrefermentDelete,b=Object(r.useCallback)((function(e,n){return u(Object(m.a)(Object(m.a)({},c),{},{prefermentedFlour:n}))}),[c,u]),v=Object(r.useCallback)((function(e,n){c.kind===a.SOURDOUGH&&u(Object(m.a)(Object(m.a)({},c),{},{seed:n}))}),[c,u]),g=Object(r.useCallback)((function(e,n){return u(Object(m.a)(Object(m.a)({},c),{},{flours:new Map([].concat(Object(f.a)(c.flours),[[e,n]]))}))}),[c,u]),p=Object(r.useCallback)((function(e,n){return u(Object(m.a)(Object(m.a)({},c),{},{ingredients:new Map([].concat(Object(f.a)(c.ingredients),[[e,n]]))}))}),[c,u]),O=Object(r.useCallback)((function(e){return u(Object(m.a)(Object(m.a)({},c),{},{flours:M(c.flours,e)}))}),[c,u]),j=Object(r.useCallback)((function(e){return u(Object(m.a)(Object(m.a)({},c),{},{ingredients:M(c.ingredients,e)}))}),[c,u]),E=Object(r.useCallback)((function(e){u(Object(m.a)(Object(m.a)({},c),{},{flours:B(c.flours,e.detail.from,e.detail.to)})),e.detail.complete()}),[c,u]),h=Object(r.useCallback)((function(e){u(Object(m.a)(Object(m.a)({},c),{},{ingredients:B(c.ingredients,e.detail.from,e.detail.to)})),e.detail.complete()}),[c,u]),w=Object(r.useCallback)((function(e){u(Object(m.a)(Object(m.a)({},c),{},{flours:new Map([].concat(Object(f.a)(c.flours),[[e,void 0]]))}))}),[c,u]),y=Object(r.useCallback)((function(e){u(Object(m.a)(Object(m.a)({},c),{},{ingredients:new Map([].concat(Object(f.a)(c.ingredients),[[e,void 0]]))}))}),[c,u]),C=t.filter((function(e){return!c.flours.has(e)})),P=o.filter((function(e){return!c.ingredients.has(e)}));return l.a.createElement(i.m,{lines:"none"},l.a.createElement(k,{title:n,onDelete:s?d:void 0}),l.a.createElement(I,{name:"Prefermented flour",value:c.prefermentedFlour,maxPercentage:100,editable:s,onChange:b}),c.kind===a.SOURDOUGH?l.a.createElement(I,{name:"Sourdough starter",value:c.seed,maxPercentage:100,editable:s,onChange:v}):void 0,l.a.createElement(i.p,{disabled:!s,onIonItemReorder:E},Object(f.a)(c.flours).map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return l.a.createElement(I,{key:t,name:t,value:a,maxPercentage:100,editable:s,onChange:g,onDelete:O})}))),l.a.createElement(i.p,{disabled:!s,onIonItemReorder:h},Object(f.a)(c.ingredients).map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return l.a.createElement(I,{key:t,name:t,value:a,maxPercentage:100,editable:s,onChange:p,onDelete:j})}))),l.a.createElement(W,{label:"Pick flour",values:C,onPick:w}),l.a.createElement(W,{label:"Pick ingredient",values:P,onPick:y}))},q=Q=l.a.memo(Q),Y=function(e){var n=e.availableFlours,t=e.availableIngredients,o=e.preferments,c=e.editable,i=e.onPrefermentsChange,s=Object(r.useState)(void 0),u=Object(A.a)(s,2),m=u[0],d=u[1],b=Object(r.useCallback)((function(e){var n;n=m===a.PREDOUGH?{kind:a.PREDOUGH,prefermentedFlour:void 0,flours:new Map,ingredients:new Map}:{kind:a.SOURDOUGH,prefermentedFlour:void 0,flours:new Map,ingredients:new Map,seed:void 0},i(new Map([].concat(Object(f.a)(o),[[e,n]]))),d(void 0)}),[m,o,i,d]),v=Object(r.useCallback)((function(e,n){return i(new Map([].concat(Object(f.a)(o),[[e,n]])))}),[o,i]),g=Object(r.useCallback)((function(e){var n=new Map(o);n.delete(e),i(n)}),[o,i]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ion-padding-bottom"},l.a.createElement(H,{value:m,onSelect:d}),l.a.createElement(C,{onNewItem:m?b:void 0})),Object(f.a)(o).map((function(e){var a=Object(A.a)(e,2),r=a[0],o=a[1];return l.a.createElement("div",{key:r,className:"border-top ion-padding-vertical"},l.a.createElement(X,{name:r,availableFlours:n,availableIngredients:t,preferment:o,editable:c,onPrefermentChange:v,onPrefermentDelete:g}))})))},z=Y=l.a.memo(Y),X=l.a.memo((function(e){var n=e.name,t=e.availableFlours,a=e.availableIngredients,o=e.preferment,c=e.editable,i=e.onPrefermentChange,s=e.onPrefermentDelete,u=Object(r.useCallback)((function(e){return i(n,e)}),[n,i]),m=Object(r.useCallback)((function(){return s(n)}),[n,s]);return l.a.createElement(q,{title:n,availableFlours:t,availableIngredients:a,preferment:o,editable:c,onPrefermentChange:u,onPrefermentDelete:m})}));!function(e){e.DOUGH="DOUGH",e.FLOUR="FLOUR"}(T||(T={}));var _=function(e){var n=e.onSelect,t=Object(r.useCallback)((function(e){return n(e.detail.value)}),[n]);return l.a.createElement(i.k,{lines:"none",color:"light"},l.a.createElement(i.l,null,"Scale by"),l.a.createElement(i.t,{interface:"popover",onIonChange:t},Object.keys(T).map((function(e){return l.a.createElement(i.u,{key:e,value:e},e)}))))},K=_=l.a.memo(_),V=function(e){var n=e.value,t=e.onChange;return l.a.createElement(i.k,{lines:"none"},l.a.createElement(i.l,null,"Total amount"),l.a.createElement(i.j,{className:"ion-padding-horizontal ion-text-right",type:"number",inputMode:"decimal",min:"0",value:n,onIonChange:P(n,t)}),l.a.createElement(i.y,null,"g"))},J=function(e){var n=e.title,t=e.ingredientsPercentage,a=e.ingredientsWeight,r=e.totalWeightSubtract,o=R(a.values())-(r||0);return l.a.createElement(i.m,{lines:"none"},l.a.createElement(k,{title:n}),l.a.createElement(i.g,null,l.a.createElement(i.s,{color:"light"},l.a.createElement(i.e,{className:"ion-text-start"},l.a.createElement("strong",null,"INGREDIENT")),l.a.createElement(i.e,{size:"2",className:"ion-text-end"},l.a.createElement("strong",null,"%")),l.a.createElement(i.e,{className:"ion-text-end"},l.a.createElement("strong",null,"WEIGHT"))),Object(f.a)(t).filter((function(e){var n=Object(A.a)(e,2),t=n[0];n[1];return a.has(t)&&0!==a.get(t)})).map((function(e,n){var t,r=Object(A.a)(e,2),o=r[0],c=r[1];return l.a.createElement(i.s,{key:"".concat(n,"-").concat(o),className:n%2===0?"background-light":void 0},l.a.createElement(i.e,{className:"ion-text-start"},o),l.a.createElement(i.e,{size:"2",className:"ion-text-end"},c),l.a.createElement(i.e,{className:"ion-text-end"},(null===(t=a.get(o))||void 0===t?void 0:t.toFixed(2))||l.a.createElement(i.y,{color:"danger"},"ERROR !")))})),l.a.createElement(i.s,null,l.a.createElement(i.e,{className:"ion-text-start"}),l.a.createElement(i.e,{size:"2",className:"ion-text-end"}),l.a.createElement(i.e,{className:"ion-text-end"},(null===o||void 0===o?void 0:o.toFixed(2))||l.a.createElement(i.y,{color:"danger"},"ERROR !")))))},Z=J=l.a.memo(J),$=function(e,n,t,a){var r=new Map([].concat(Object(f.a)(ne(e,a)),Object(f.a)(ne(n,a)))),l=te(t,a);return{overall:r,preferments:l,final:re(r,l)}},ee=function(e,n,t){return t===T.FLOUR?100:R(e.values(),n.values())},ne=function(e,n){return new Map(Object(f.a)(e).map((function(e){var t=Object(A.a)(e,2);return[t[0],t[1]*n]})))},te=function(e,n){return new Map(Object(f.a)(e).map((function(e){var t=Object(A.a)(e,2),a=t[0],r=t[1];return[a,ae(r,n)]})))},ae=function(e,n){var t=n*(e.prefermentedFlour/100),r=new Map([].concat(Object(f.a)(ne(e.ingredients,t)),Object(f.a)(ne(e.flours,t)))),l=void 0;return e.kind===a.SOURDOUGH&&(l=e.seed*t,r.set("(sourdough seed)",l)),{kind:e.kind,ingredients:r,seed:l}},re=function(e,n){var t,a=new Map(Object(f.a)(e)),r=Object(d.a)(e.keys());try{var l=function(){var e=t.value,r=a.get(e)-R(Object(f.a)(n.values()).map((function(n){return n.ingredients.get(e)||0})));Math.abs(r)<=.01&&(r=0),r<0&&(r=void 0),a.set(e,r)};for(r.s();!(t=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}return a},le=function(e,n){var t,a=[],r=Object(d.a)(e);try{for(r.s();!(t=r.n()).done;){var l=Object(A.a)(t.value,2),o=l[0];void 0===l[1]&&a.push("[".concat(n,"] Undefined flour value: '").concat(o,"'"))}}catch(c){r.e(c)}finally{r.f()}return 100!==R(e.values())&&a.push("[".concat(n,"] Bad flours percentage, the sum should be 100%")),a},oe=function(e,n){var t,a=[],r=Object(d.a)(e);try{for(r.s();!(t=r.n()).done;){var l=Object(A.a)(t.value,2),o=l[0];void 0===l[1]&&a.push("[".concat(n,"] Undefined ingredient value: '").concat(o,"'"))}}catch(c){r.e(c)}finally{r.f()}return a},ce=function(e){var n,t=[],a=Object(d.a)(e);try{for(a.s();!(n=a.n()).done;){var r=Object(A.a)(n.value,2),l=r[0],o=r[1];void 0===o.prefermentedFlour&&t.push("Undefined prefermented flour value"),t.push.apply(t,Object(f.a)(le(o.flours,"PREFERMENT ".concat(l)))),t.push.apply(t,Object(f.a)(oe(o.ingredients,"PREFERMENT ".concat(l))))}}catch(c){a.e(c)}finally{a.f()}return R(Object(f.a)(e.values()).map((function(e){return e.prefermentedFlour})))>100&&t.push("Total prefermented flour > 100%"),t},ie=function(e){var n=e.flours,t=e.ingredients,a=e.preferments,r=e.scaleBy,o=e.totalAmount,c=function(e,n,t){var a=[];return a.push.apply(a,Object(f.a)(le(e,"OVERALL"))),a.push.apply(a,Object(f.a)(oe(n,"OVERALL"))),a.push.apply(a,Object(f.a)(ce(t))),a}(n,t,a);if(c.length>0)return console.log(c),l.a.createElement("div",{className:"ion-padding"},l.a.createElement("strong",null,"RECIPE NOT VALID"),l.a.createElement("ul",null,c.map((function(e,n){return l.a.createElement("li",{key:n},e)}))));var i=function(e,n,t,a,r){var l=ee(e,n,a);return $(e,n,t,r/l)}(n,t,a,r,o),s=Object(f.a)(n.keys()).map((function(e){return[e,void 0]})),u=Object(f.a)(t.keys()).map((function(e){return[e,void 0]})),m=new Map([].concat(Object(f.a)(s),Object(f.a)(u)));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Z,{title:"OVERALL",ingredientsPercentage:new Map([].concat(Object(f.a)(n),Object(f.a)(t))),ingredientsWeight:i.overall}),Object(f.a)(i.preferments).map((function(e){var n=Object(A.a)(e,2),t=n[0],r=n[1],o=new Map([].concat(Object(f.a)(a.get(t).flours),Object(f.a)(a.get(t).ingredients)));return r.seed&&o.set("(sourdough seed)",r.seed),l.a.createElement(Z,{key:t,title:t,ingredientsPercentage:o,ingredientsWeight:r.ingredients,totalWeightSubtract:r.seed})})),l.a.createElement(Z,{title:"FINAL DOUGH",ingredientsPercentage:m,ingredientsWeight:i.final}))},se=ie=l.a.memo(ie),ue=function(e){var n=e.flours,t=e.ingredients,a=e.preferments,o=Object(r.useState)(void 0),c=Object(A.a)(o,2),i=c[0],s=c[1],u=Object(r.useState)(void 0),m=Object(A.a)(u,2),d=m[0],f=m[1],b=i&&d?l.a.createElement(se,{flours:n,ingredients:t,preferments:a,scaleBy:i,totalAmount:d}):void 0;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ion-padding-bottom"},l.a.createElement(K,{onSelect:s}),l.a.createElement(V,{value:d,onChange:f})),l.a.createElement("div",{className:"border-top ion-padding-vertical"},b))},me=ue=l.a.memo(ue),de=function(e){var n=e.name,t=e.editable,a=e.onLoad,r=e.onDelete;return t?l.a.createElement(i.k,null,l.a.createElement(i.l,null,n),l.a.createElement(i.c,{slot:"end",onClick:r,fill:"clear"},l.a.createElement(i.i,{slot:"icon-only",icon:v.w}))):l.a.createElement(i.k,{button:!0,onClick:a,routerLink:"/overallTab",routerDirection:"none",detail:!1},l.a.createElement(i.l,null,n))},fe=de=l.a.memo(de),Ae=function(e){var n=e.recipes,t=e.editable,a=e.setRecipes,o=e.setName,c=e.setFlours,s=e.setIngredients,u=e.setPreferments,m=e.setAvailableFlours,d=e.setAvailableIngredients,A=Object(r.useCallback)((function(e){o(e.name),c(e.flours),s(e.ingredients),u(e.preferments),m(Object(f.a)(e.flours.keys())),d(Object(f.a)(e.ingredients.keys()))}),[o,c,s,u,m,d]),b=Object(r.useCallback)((function(e){return a((function(n){return n.filter((function(n){return n!==e}))}))}),[a]);return l.a.createElement(i.m,null,n.map((function(e){return l.a.createElement(fe,{key:e.name,name:e.name,editable:t,onLoad:function(){return A(e)},onDelete:function(){return b(e)}})})))},be=Ae=l.a.memo(Ae),ve=function(e){var n=e.name,t=e.showAlert,a=e.setShowAlert,r=e.onSave;return l.a.createElement(i.a,{isOpen:t,onDidDismiss:function(){return a(!1)},header:"Save recipe",inputs:[{name:"name",type:"text",value:n}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:r}]})},ge=ve=l.a.memo(ve),pe=function(e){var n=e.name,t=e.recipes,a=e.editable,r=e.setRecipes,o=e.setName,c=e.setFlours,i=e.setIngredients,s=e.setPreferments,u=e.setAvailableFlours,m=e.setAvailableIngredients,d=e.showSaveAsAlert,f=e.setShowSaveAsAlert,A=e.onSaveRecipe;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ge,{name:n,showAlert:d,setShowAlert:f,onSave:A}),l.a.createElement(be,{recipes:t,editable:a,setRecipes:r,setName:o,setFlours:c,setIngredients:i,setPreferments:s,setAvailableFlours:u,setAvailableIngredients:m}))},Oe=pe=l.a.memo(pe),je=function(e){return e.map(he)},Ee=function(e){return e.map(ke)},he=function(e){return{name:e.name,flours:we(e.flours),ingredients:we(e.ingredients),preferments:Ce(e.preferments)}},ke=function(e){return{name:e.name,flours:ye(e.flours),ingredients:ye(e.ingredients),preferments:Pe(e.preferments)}},we=function(e){return Object(f.a)(e)},ye=function(e){return new Map(e)},Ce=function(e){return Object(f.a)(e).map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return[t,Re(a)]}))},Pe=function(e){return new Map(e.map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return[t,Se(a)]})))},Re=function(e){return e.kind===a.PREDOUGH?{kind:e.kind,prefermentedFlour:e.prefermentedFlour,flours:we(e.flours),ingredients:we(e.ingredients)}:{kind:e.kind,prefermentedFlour:e.prefermentedFlour,seed:e.seed,flours:we(e.flours),ingredients:we(e.ingredients)}},Se=function(e){return e.kind===a.PREDOUGH?{kind:e.kind,prefermentedFlour:e.prefermentedFlour,flours:ye(e.flours),ingredients:ye(e.ingredients)}:{kind:e.kind,prefermentedFlour:e.prefermentedFlour,seed:e.seed,flours:ye(e.flours),ingredients:ye(e.ingredients)}},Me=new Map,Be=new Map,De=new Map,Ie=[],Ne=[],Fe=function(){var e=Object(r.useState)(!1),n=Object(A.a)(e,2),t=n[0],a=n[1],o=function(){var e=[],n=Object(r.useState)((function(){var n=window.localStorage.getItem("recipes");return null!==n?Ee(JSON.parse(n)):e})),t=Object(A.a)(n,2),a=t[0],l=t[1];return Object(r.useEffect)((function(){window.localStorage.setItem("recipes",JSON.stringify(je(a)))}),["recipes",a]),[a,l]}(),c=Object(A.a)(o,2),s=c[0],u=c[1],m=Object(r.useState)(!1),d=Object(A.a)(m,2),g=d[0],p=d[1],O=Object(r.useState)("Untitled"),j=Object(A.a)(O,2),h=j[0],k=j[1],w=Object(r.useState)(Me),y=Object(A.a)(w,2),C=y[0],P=y[1],R=Object(r.useState)(Be),M=Object(A.a)(R,2),B=M[0],D=M[1],I=Object(r.useState)(De),N=Object(A.a)(I,2),F=N[0],U=N[1],T=Object(r.useState)(Ie),G=Object(A.a)(T,2),H=G[0],L=G[1],W=Object(r.useState)(Ne),Q=Object(A.a)(W,2),q=Q[0],Y=Q[1],X=Object(r.useCallback)((function(e){P(e),S(Object(f.a)(e.keys()),Object(f.a)(C.keys()))||L(Object(f.a)(e.keys()));var n=Object(f.a)(C.keys()).filter((function(n){return!e.has(n)}));0!==n.length&&Ue("flours",F,U,n)}),[P,U,C,F]),_=Object(r.useCallback)((function(e){D(e),S(Object(f.a)(e.keys()),Object(f.a)(B.keys()))||Y(Object(f.a)(e.keys()));var n=Object(f.a)(B.keys()).filter((function(n){return!e.has(n)}));0!==n.length&&Ue("ingredients",F,U,n)}),[D,U,B,F]),K=Object(r.useCallback)((function(){return a((function(e){return!e}))}),[a]),V=Object(r.useCallback)((function(e){var n=e.name;xe({name:n,flours:C,ingredients:B,preferments:F},s,u),k(n)}),[s,C,B,F,u,k]),J=Object(r.useCallback)((function(){p(!0)}),[p]),Z=Object(r.useCallback)((function(){a(!1),k("Untitled"),P(Me),D(Be),U(De),L(Ie),Y(Ne)}),[a,k,P,D,U,L,Y]),$=Object(r.useCallback)((function(){t&&a(!1)}),[t,a]);return l.a.createElement(i.x,{onIonTabsDidChange:$},l.a.createElement(i.r,{id:"main"},l.a.createElement(b.b,{path:"/overallTab",render:function(){return l.a.createElement(E,{title:h,editActive:t,onEditToggle:K,onSave:J,onReset:Z,showInfo:!0},l.a.createElement(x,{flours:C,ingredients:B,editable:t,onFloursChange:X,onIngredientsChange:_}))},exact:!0}),l.a.createElement(b.b,{path:"/prefermentTab",render:function(){return l.a.createElement(E,{title:h,editActive:t,onEditToggle:K,onSave:J,onReset:Z},l.a.createElement(z,{availableFlours:H,availableIngredients:q,preferments:F,editable:t,onPrefermentsChange:U}))},exact:!0}),l.a.createElement(b.b,{path:"/finalDough",render:function(){return l.a.createElement(E,{title:h,onSave:J,onReset:Z},l.a.createElement(me,{flours:C,ingredients:B,preferments:F}))},exact:!0}),l.a.createElement(b.b,{path:"/recipes",render:function(){return l.a.createElement(E,{title:"Recipes",editActive:t,onEditToggle:K},l.a.createElement(Oe,{name:h,recipes:s,editable:t,setRecipes:u,setName:k,setFlours:P,setIngredients:D,setPreferments:U,setAvailableFlours:L,setAvailableIngredients:Y,showSaveAsAlert:g,setShowSaveAsAlert:p,onSaveRecipe:V}))},exact:!0}),l.a.createElement(b.b,{path:"/",render:function(){return l.a.createElement(b.a,{to:"/overallTab"})},exact:!0})),l.a.createElement(i.v,{slot:"bottom"},l.a.createElement(i.w,{tab:"overallTab",href:"/overallTab"},l.a.createElement(i.i,{icon:v.s}),l.a.createElement(i.l,null,"OVERALL")),l.a.createElement(i.w,{tab:"prefermentTab",href:"/prefermentTab"},l.a.createElement(i.i,{icon:v.c}),l.a.createElement(i.l,null,"PREFERMENT")),l.a.createElement(i.w,{tab:"finalDough",href:"/finalDough"},l.a.createElement(i.i,{icon:v.e}),l.a.createElement(i.l,null,"DOUGH")),l.a.createElement(i.w,{tab:"recipes",href:"/recipes"},l.a.createElement(i.i,{icon:v.d}),l.a.createElement(i.l,null,"RECIPES"))))},Ue=function(e,n,t,a){var r,l=n,o=Object(d.a)(n);try{for(o.s();!(r=o.n()).done;){var c=Object(A.a)(r.value,2),i=c[0],s=c[1],b=new Map(Object(f.a)(s[e]).filter((function(e){var n=Object(A.a)(e,2),t=n[0];n[1];return!a.includes(t)})));if(b.size!==s[e].size){var v=Object(m.a)(Object(m.a)({},s),{},Object(u.a)({},e,b));l=new Map([].concat(Object(f.a)(l),[[i,v]]))}}}catch(g){o.e(g)}finally{o.f()}l!==n&&t(l)},xe=function(e,n,t){void 0!==n.find((function(n){return n.name===e.name}))?t((function(n){return n.map((function(n){return n.name===e.name?e:n}))})):t((function(n){return[].concat(Object(f.a)(n),[e])}))},Te=(t(97),t(98),t(99),t(100),t(101),t(102),t(103),t(104),t(105),t(106),t(107),t(108),function(){return l.a.createElement(i.b,null,l.a.createElement(s.a,null,l.a.createElement(Fe,null)))}),Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function He(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement(Te,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://visciang.github.io",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("https://visciang.github.io","/service-worker.js");Ge?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):He(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):He(n,e)}))}}()},60:function(e,n){e.exports="data:image/gif;base64,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"},64:function(e,n,t){e.exports=t(109)},70:function(e,n,t){var a={"./ion-action-sheet.entry.js":[111,5],"./ion-alert.entry.js":[112,6],"./ion-app_8.entry.js":[113,7],"./ion-avatar_3.entry.js":[114,18],"./ion-back-button.entry.js":[115,19],"./ion-backdrop.entry.js":[116,43],"./ion-button_2.entry.js":[117,20],"./ion-card_5.entry.js":[118,21],"./ion-checkbox.entry.js":[119,22],"./ion-chip.entry.js":[120,23],"./ion-col_3.entry.js":[121,44],"./ion-datetime_3.entry.js":[122,10],"./ion-fab_3.entry.js":[123,24],"./ion-img.entry.js":[124,45],"./ion-infinite-scroll_2.entry.js":[125,46],"./ion-input.entry.js":[126,25],"./ion-item-option_3.entry.js":[127,26],"./ion-item_8.entry.js":[128,27],"./ion-loading.entry.js":[129,28],"./ion-menu_3.entry.js":[130,29],"./ion-modal.entry.js":[131,8],"./ion-nav_2.entry.js":[132,15],"./ion-popover.entry.js":[133,9],"./ion-progress-bar.entry.js":[134,30],"./ion-radio_2.entry.js":[135,31],"./ion-range.entry.js":[136,32],"./ion-refresher_2.entry.js":[137,11],"./ion-reorder_2.entry.js":[138,17],"./ion-ripple-effect.entry.js":[139,47],"./ion-route_4.entry.js":[140,33],"./ion-searchbar.entry.js":[141,34],"./ion-segment_2.entry.js":[142,35],"./ion-select_3.entry.js":[143,36],"./ion-slide_2.entry.js":[144,48],"./ion-spinner.entry.js":[145,13],"./ion-split-pane.entry.js":[146,49],"./ion-tab-bar_2.entry.js":[147,37],"./ion-tab_2.entry.js":[148,16],"./ion-text.entry.js":[149,38],"./ion-textarea.entry.js":[150,39],"./ion-toast.entry.js":[151,40],"./ion-toggle.entry.js":[152,12],"./ion-virtual-scroll.entry.js":[153,50]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(a)},r.id=70,e.exports=r},92:function(e,n,t){var a={"./ion-icon.entry.js":[157,57]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(a)},r.id=92,e.exports=r}},[[64,3,4]]]);
//# sourceMappingURL=main.51a7aabb.chunk.js.map