(this.webpackJsonpbpc=this.webpackJsonpbpc||[]).push([[1],{52:function(e){e.exports=JSON.parse('{"a":"0.1.5"}')},64:function(e,n,t){var r={"./ion-action-sheet.entry.js":[85,5],"./ion-alert.entry.js":[86,6],"./ion-app_8.entry.js":[87,7],"./ion-avatar_3.entry.js":[88,17],"./ion-back-button.entry.js":[89,18],"./ion-backdrop.entry.js":[90,43],"./ion-button_2.entry.js":[91,19],"./ion-card_5.entry.js":[92,20],"./ion-checkbox.entry.js":[93,21],"./ion-chip.entry.js":[94,22],"./ion-col_3.entry.js":[95,44],"./ion-datetime_3.entry.js":[96,10],"./ion-fab_3.entry.js":[97,23],"./ion-img.entry.js":[98,45],"./ion-infinite-scroll_2.entry.js":[99,46],"./ion-input.entry.js":[100,24],"./ion-item-option_3.entry.js":[101,25],"./ion-item_8.entry.js":[102,26],"./ion-loading.entry.js":[103,27],"./ion-menu_3.entry.js":[104,28],"./ion-modal.entry.js":[105,8],"./ion-nav_2.entry.js":[106,14],"./ion-popover.entry.js":[107,9],"./ion-progress-bar.entry.js":[108,29],"./ion-radio_2.entry.js":[109,30],"./ion-range.entry.js":[110,31],"./ion-refresher_2.entry.js":[111,11],"./ion-reorder_2.entry.js":[112,16],"./ion-ripple-effect.entry.js":[113,47],"./ion-route_4.entry.js":[114,32],"./ion-searchbar.entry.js":[115,33],"./ion-segment_2.entry.js":[116,34],"./ion-select_3.entry.js":[117,35],"./ion-slide_2.entry.js":[118,48],"./ion-spinner.entry.js":[119,13],"./ion-split-pane.entry.js":[120,49],"./ion-tab-bar_2.entry.js":[121,36],"./ion-tab_2.entry.js":[122,15],"./ion-text.entry.js":[123,37],"./ion-textarea.entry.js":[124,38],"./ion-toast.entry.js":[125,39],"./ion-toggle.entry.js":[126,12],"./ion-virtual-scroll.entry.js":[127,50]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(r)},c.id=64,e.exports=c},66:function(e,n,t){var r={"./ion-icon.entry.js":[129,57]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(r)},c.id=66,e.exports=c},81:function(e,n,t){},82:function(e,n,t){},83:function(e,n,t){"use strict";t.r(n);var r,c=t(1),i=t(0),a=t.n(i),o=t(35),s=t.n(o),l=t(2),j=t(50),u=t(20),d=t(13),b=t(4),O=t(25),f=t(5),A=t(24),v=t(8),h=t(52),m=function(e){var n=e.showAlert,t=e.setShowAlert,r='\n    <div class="ion-text-center">\n      <p>\n        <a href="mailto:panificazionefavaglie@gmail.com?subject=BakerCalc">\n          Info mail\n        </a>\n      </p>\n      <p>\n        If you like the App<br/>support me with a beer!<br/>Thank you\n      </p>\n      <p>\n        <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=YWVFRGAC55UX4">\n        <img src='.concat("data:image/gif;base64,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",">\n        </a>\n      </p>\n    </div>\n  ");return Object(c.jsx)(l.a,{isOpen:n,onDidDismiss:function(){return t(!1)},header:"Info - v".concat(h.a),message:r})},g=m=a.a.memo(m),p=function(e){var n=e.title,t=e.editActive,r=e.recipeEdited,a=e.onEditToggle,o=e.onSave,s=e.onReset,j=e.showInfo,u=e.children,d=Object(i.useState)(!1),b=Object(f.a)(d,2),O=b[0],A=b[1],h=Object(i.useCallback)((function(){return A(!0)}),[A]),m=a?Object(c.jsx)(l.c,{color:"dark",fill:t?"solid":void 0,onClick:a,children:Object(c.jsx)(l.i,{icon:v.o})}):void 0,p=o?Object(c.jsx)(l.c,{color:"dark",fill:r?"solid":void 0,routerLink:"/recipes",onClick:o,children:Object(c.jsx)(l.i,{icon:v.t})}):void 0,x=j?Object(c.jsx)(l.c,{color:"dark",onClick:h,children:Object(c.jsx)(l.i,{icon:v.l})}):void 0,k=s?Object(c.jsx)(l.c,{color:"dark",onClick:s,children:Object(c.jsx)(l.i,{icon:v.p})}):void 0,w=j?Object(c.jsx)(g,{showAlert:O,setShowAlert:A}):void 0;return Object(c.jsxs)(l.n,{children:[Object(c.jsx)(l.h,{translucent:!0,children:Object(c.jsxs)(l.A,{color:"toolbar",children:[Object(c.jsxs)(l.d,{slot:"start",children:[x,k]}),Object(c.jsx)(l.z,{children:n}),Object(c.jsxs)(l.d,{slot:"end",children:[p,m]})]})}),Object(c.jsxs)(l.f,{fullscreen:!0,className:"ion-padding",children:[Object(c.jsx)(l.h,{collapse:"condense",className:"ion-padding-bottom",children:Object(c.jsx)(l.A,{children:Object(c.jsx)(l.z,{size:"large",children:n})})}),w,u]})]})},x=function(e){var n=e.title,t=e.onDelete,r=t?Object(c.jsx)(l.c,{size:"small",slot:"end",onClick:t,fill:"clear",children:Object(c.jsx)(l.i,{slot:"icon-only",icon:v.w})}):void 0;return Object(c.jsxs)(l.A,{children:[Object(c.jsx)(l.z,{className:"ion-text-center",children:n}),r]})},k=x=a.a.memo(x),w=function(e){var n=e.onNewItem,t=Object(i.useState)(void 0),r=Object(f.a)(t,2),a=r[0],o=r[1],s=Object(i.useCallback)((function(){n(a),o(void 0)}),[a,n,o]),j=Object(i.useCallback)((function(e){o(C(e.detail.value))}),[o]);return Object(c.jsxs)(l.k,{lines:"none",children:[Object(c.jsx)(l.j,{required:!0,type:"text",placeholder:"New ...",value:a,onIonChange:j}),Object(c.jsx)(l.c,{className:"ion-no-padding",onClick:s,fill:"clear",disabled:!(a&&void 0!==n),children:Object(c.jsx)(l.i,{slot:"icon-only",icon:v.a})})]})},C=function(e){return(null===e||void 0===e?void 0:e.trim())?e.trim():void 0},y=w=a.a.memo(w),P=function(e,n){return function(t){var r,c;if(!(null===(r=t.detail.value)||void 0===r?void 0:r.endsWith(","))&&!(null===(c=t.detail.value)||void 0===c?void 0:c.endsWith("."))){var i=void 0;t.detail.value&&(i=parseFloat(t.detail.value.replace(",","."))),i!==e&&n(i)}}},R=function(){for(var e=0,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(var c=0,i=t;c<i.length;c++){var a,o=i[c],s=Object(O.a)(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;e+=l||0}}catch(j){s.e(j)}finally{s.f()}}return e},S=function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0},D=function(e,n){var t=new Map(e);return t.delete(n),t},M=function(e,n,t){var r=Object(b.a)(e),c=r[n];return r.splice(n,1),r.splice(t,0,c),new Map(r)},B=function(e){var n=e.name,t=e.value,r=e.maxPercentage,a=e.editable,o=e.onChange,s=e.onDelete,j=Object(i.useCallback)(P(t,(function(e){return o(n,e)})),[n,t,o]),u=Object(c.jsx)(c.Fragment,{});return a?s&&(u=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l.c,{slot:"end",onClick:function(){return s(n)},fill:"clear",children:Object(c.jsx)(l.i,{slot:"icon-only",icon:v.w})}),Object(c.jsx)(l.o,{slot:"end",className:"ion-no-margin"})]})):u=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l.j,{className:"ion-padding-horizontal ion-text-right",type:"number",inputMode:"decimal",min:"0",max:null===r||void 0===r?void 0:r.toString(),value:t,onIonChange:j}),Object(c.jsx)(l.y,{children:"%"})]}),Object(c.jsxs)(l.k,{children:[Object(c.jsx)(l.l,{children:n}),u]})},E=B=a.a.memo(B),N=function(e){var n=e.title,t=e.ingredients,r=e.maxPercentage,a=e.editable,o=e.onIngredientsChange,s=Object(i.useCallback)((function(e,n){return o(new Map([].concat(Object(b.a)(t),[[e,n]])))}),[t,o]),j=Object(i.useCallback)((function(e){o(M(t,e.detail.from,e.detail.to)),e.detail.complete()}),[t,o]),u=Object(i.useCallback)((function(e){return o(new Map([].concat(Object(b.a)(t),[[e,void 0]])))}),[t,o]),d=Object(i.useCallback)((function(e){return o(D(t,e))}),[t,o]);return Object(c.jsxs)(l.m,{lines:"none",children:[Object(c.jsx)(k,{title:n}),Object(c.jsx)(l.p,{disabled:!a,onIonItemReorder:j,children:Object(b.a)(t).map((function(e){var n=Object(f.a)(e,2),t=n[0],i=n[1];return Object(c.jsx)(E,{name:t,value:i,maxPercentage:r,editable:a,onChange:s,onDelete:d},t)}))}),Object(c.jsx)(y,{onNewItem:u})]})},I=N=a.a.memo(N),U=function(e){var n=e.flours,t=e.ingredients,r=e.editable,i=e.onFloursChange,a=e.onIngredientsChange;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{title:"FLOURS",ingredients:n,maxPercentage:100,onIngredientsChange:i,editable:r}),Object(c.jsx)(I,{title:"INGREDIENTS",ingredients:t,maxPercentage:void 0,onIngredientsChange:a,editable:r})]})},F=U=a.a.memo(U);!function(e){e.PREDOUGH="PREDOUGH",e.SOURDOUGH="SOURDOUGH"}(r||(r={}));var T,G=function(e){var n=e.value,t=e.onSelect,a=Object(i.useCallback)((function(e){return e.detail.value&&t(e.detail.value)}),[t]);return Object(c.jsxs)(l.k,{lines:"none",color:"light",children:[Object(c.jsx)(l.l,{children:"Kind"}),Object(c.jsx)(l.t,{interface:"popover",value:n,onIonChange:a,children:Object.keys(r).map((function(e){return Object(c.jsx)(l.u,{value:e,children:e},e)}))})]})},L=G=a.a.memo(G),H=function(e){var n=e.label,t=e.values,r=e.onPick,a=Object(i.useState)(void 0),o=Object(f.a)(a,2),s=o[0],j=o[1];return Object(c.jsxs)(l.k,{lines:"none",color:"light",children:[Object(c.jsx)(l.l,{children:n}),Object(c.jsx)(l.t,{disabled:0===t.length,interface:"popover",value:s,onIonChange:function(e){e.detail.value&&(r(e.detail.value),j(void 0))},children:Object(b.a)(t).map((function(e){return Object(c.jsx)(l.u,{value:e,children:e},e)}))})]})},W=H=a.a.memo(H),Q=function(e){var n=e.title,t=e.availableFlours,a=e.availableIngredients,o=e.preferment,s=e.editable,j=e.onPrefermentChange,u=e.onPrefermentDelete,O=Object(i.useCallback)((function(e,n){return j(Object(d.a)(Object(d.a)({},o),{},{prefermentedFlour:n}))}),[o,j]),A=Object(i.useCallback)((function(e,n){o.kind===r.SOURDOUGH&&j(Object(d.a)(Object(d.a)({},o),{},{seed:n}))}),[o,j]),v=Object(i.useCallback)((function(e,n){return j(Object(d.a)(Object(d.a)({},o),{},{flours:new Map([].concat(Object(b.a)(o.flours),[[e,n]]))}))}),[o,j]),h=Object(i.useCallback)((function(e,n){return j(Object(d.a)(Object(d.a)({},o),{},{ingredients:new Map([].concat(Object(b.a)(o.ingredients),[[e,n]]))}))}),[o,j]),m=Object(i.useCallback)((function(e){return j(Object(d.a)(Object(d.a)({},o),{},{flours:D(o.flours,e)}))}),[o,j]),g=Object(i.useCallback)((function(e){return j(Object(d.a)(Object(d.a)({},o),{},{ingredients:D(o.ingredients,e)}))}),[o,j]),p=Object(i.useCallback)((function(e){j(Object(d.a)(Object(d.a)({},o),{},{flours:M(o.flours,e.detail.from,e.detail.to)})),e.detail.complete()}),[o,j]),x=Object(i.useCallback)((function(e){j(Object(d.a)(Object(d.a)({},o),{},{ingredients:M(o.ingredients,e.detail.from,e.detail.to)})),e.detail.complete()}),[o,j]),w=Object(i.useCallback)((function(e){j(Object(d.a)(Object(d.a)({},o),{},{flours:new Map([].concat(Object(b.a)(o.flours),[[e,void 0]]))}))}),[o,j]),C=Object(i.useCallback)((function(e){j(Object(d.a)(Object(d.a)({},o),{},{ingredients:new Map([].concat(Object(b.a)(o.ingredients),[[e,void 0]]))}))}),[o,j]),y=t.filter((function(e){return!o.flours.has(e)})),P=a.filter((function(e){return!o.ingredients.has(e)}));return Object(c.jsxs)(l.m,{lines:"none",children:[Object(c.jsx)(k,{title:n,onDelete:s?u:void 0}),Object(c.jsx)(E,{name:"Prefermented flour",value:o.prefermentedFlour,maxPercentage:100,editable:s,onChange:O}),o.kind===r.SOURDOUGH?Object(c.jsx)(E,{name:"Sourdough starter",value:o.seed,maxPercentage:100,editable:s,onChange:A}):void 0,Object(c.jsx)(l.p,{disabled:!s,onIonItemReorder:p,children:Object(b.a)(o.flours).map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return Object(c.jsx)(E,{name:t,value:r,maxPercentage:100,editable:s,onChange:v,onDelete:m},t)}))}),Object(c.jsx)(l.p,{disabled:!s,onIonItemReorder:x,children:Object(b.a)(o.ingredients).map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return Object(c.jsx)(E,{name:t,value:r,maxPercentage:100,editable:s,onChange:h,onDelete:g},t)}))}),Object(c.jsx)(W,{label:"Pick flour",values:y,onPick:w}),Object(c.jsx)(W,{label:"Pick ingredient",values:P,onPick:C})]})},q=Q=a.a.memo(Q),Y=function(e){var n=e.availableFlours,t=e.availableIngredients,a=e.preferments,o=e.editable,s=e.onPrefermentsChange,l=Object(i.useState)(void 0),j=Object(f.a)(l,2),u=j[0],d=j[1],O=Object(i.useCallback)((function(e){var n;n=u===r.PREDOUGH?{kind:r.PREDOUGH,prefermentedFlour:void 0,flours:new Map,ingredients:new Map}:{kind:r.SOURDOUGH,prefermentedFlour:void 0,flours:new Map,ingredients:new Map,seed:void 0},s(new Map([].concat(Object(b.a)(a),[[e,n]]))),d(void 0)}),[u,a,s,d]),A=Object(i.useCallback)((function(e,n){return s(new Map([].concat(Object(b.a)(a),[[e,n]])))}),[a,s]),v=Object(i.useCallback)((function(e){var n=new Map(a);n.delete(e),s(n)}),[a,s]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"ion-padding-bottom",children:[Object(c.jsx)(L,{value:u,onSelect:d}),Object(c.jsx)(y,{onNewItem:u?O:void 0})]}),Object(b.a)(a).map((function(e){var r=Object(f.a)(e,2),i=r[0],a=r[1];return Object(c.jsx)("div",{className:"border-top ion-padding-vertical",children:Object(c.jsx)(X,{name:i,availableFlours:n,availableIngredients:t,preferment:a,editable:o,onPrefermentChange:A,onPrefermentDelete:v})},i)}))]})},z=Y=a.a.memo(Y),X=a.a.memo((function(e){var n=e.name,t=e.availableFlours,r=e.availableIngredients,a=e.preferment,o=e.editable,s=e.onPrefermentChange,l=e.onPrefermentDelete,j=Object(i.useCallback)((function(e){return s(n,e)}),[n,s]),u=Object(i.useCallback)((function(){return l(n)}),[n,l]);return Object(c.jsx)(q,{title:n,availableFlours:t,availableIngredients:r,preferment:a,editable:o,onPrefermentChange:j,onPrefermentDelete:u})}));!function(e){e.DOUGH="DOUGH",e.FLOUR="FLOUR"}(T||(T={}));var _=function(e){var n=e.onSelect,t=Object(i.useCallback)((function(e){return n(e.detail.value)}),[n]);return Object(c.jsxs)(l.k,{lines:"none",color:"light",children:[Object(c.jsx)(l.l,{children:"Scale by"}),Object(c.jsx)(l.t,{interface:"popover",onIonChange:t,children:Object.keys(T).map((function(e){return Object(c.jsx)(l.u,{value:e,children:e},e)}))})]})},J=_=a.a.memo(_),K=function(e){var n=e.value,t=e.onChange;return Object(c.jsxs)(l.k,{lines:"none",children:[Object(c.jsx)(l.l,{children:"Total amount"}),Object(c.jsx)(l.j,{className:"ion-padding-horizontal ion-text-right",type:"number",inputMode:"decimal",min:"0",value:n,onIonChange:P(n,t)}),Object(c.jsx)(l.y,{children:"g"})]})},V=function(e){var n=e.title,t=e.ingredientsPercentage,r=e.ingredientsWeight,i=e.totalWeightSubtract,a=R(r.values())-(i||0);return Object(c.jsxs)(l.m,{lines:"none",children:[Object(c.jsx)(k,{title:n}),Object(c.jsxs)(l.g,{children:[Object(c.jsxs)(l.s,{color:"light",children:[Object(c.jsx)(l.e,{className:"ion-text-start",children:Object(c.jsx)("strong",{children:"INGREDIENT"})}),Object(c.jsx)(l.e,{size:"2",className:"ion-text-end",children:Object(c.jsx)("strong",{children:"%"})}),Object(c.jsx)(l.e,{className:"ion-text-end",children:Object(c.jsx)("strong",{children:"WEIGHT"})})]}),Object(b.a)(t).filter((function(e){var n=Object(f.a)(e,2),t=n[0];n[1];return r.has(t)&&0!==r.get(t)})).map((function(e,n){var t,i=Object(f.a)(e,2),a=i[0],o=i[1];return Object(c.jsxs)(l.s,{className:n%2===0?"background-light":void 0,children:[Object(c.jsx)(l.e,{className:"ion-text-start",children:a}),Object(c.jsx)(l.e,{size:"2",className:"ion-text-end",children:o}),Object(c.jsx)(l.e,{className:"ion-text-end",children:(null===(t=r.get(a))||void 0===t?void 0:t.toFixed(2))||Object(c.jsx)(l.y,{color:"danger",children:"ERROR !"})})]},"".concat(n,"-").concat(a))})),Object(c.jsxs)(l.s,{children:[Object(c.jsx)(l.e,{className:"ion-text-start"}),Object(c.jsx)(l.e,{size:"2",className:"ion-text-end"}),Object(c.jsx)(l.e,{className:"ion-text-end",children:(null===a||void 0===a?void 0:a.toFixed(2))||Object(c.jsx)(l.y,{color:"danger",children:"ERROR !"})})]})]})]})},Z=V=a.a.memo(V),$=function(e,n,t,r){var c=new Map([].concat(Object(b.a)(ne(e,r)),Object(b.a)(ne(n,r)))),i=te(t,r);return{overall:c,preferments:i,final:ce(c,i)}},ee=function(e,n,t){return t===T.FLOUR?100:R(e.values(),n.values())},ne=function(e,n){return new Map(Object(b.a)(e).map((function(e){var t=Object(f.a)(e,2);return[t[0],t[1]*n]})))},te=function(e,n){return new Map(Object(b.a)(e).map((function(e){var t=Object(f.a)(e,2),r=t[0],c=t[1];return[r,re(c,n)]})))},re=function(e,n){var t=n*(e.prefermentedFlour/100),c=new Map([].concat(Object(b.a)(ne(e.ingredients,t)),Object(b.a)(ne(e.flours,t)))),i=void 0;return e.kind===r.SOURDOUGH&&(i=e.seed*t,c.set("(sourdough seed)",i)),{kind:e.kind,ingredients:c,seed:i}},ce=function(e,n){var t,r=new Map(Object(b.a)(e)),c=Object(O.a)(e.keys());try{var i=function(){var e=t.value,c=r.get(e)-R(Object(b.a)(n.values()).map((function(n){return n.ingredients.get(e)||0})));Math.abs(c)<=.01&&(c=0),c<0&&(c=void 0),r.set(e,c)};for(c.s();!(t=c.n()).done;)i()}catch(a){c.e(a)}finally{c.f()}return r},ie=function(e,n){var t,r=[],c=Object(O.a)(e);try{for(c.s();!(t=c.n()).done;){var i=Object(f.a)(t.value,2),a=i[0];void 0===i[1]&&r.push("[".concat(n,"] Undefined flour value: '").concat(a,"'"))}}catch(o){c.e(o)}finally{c.f()}return 100!==R(e.values())&&r.push("[".concat(n,"] Bad flours percentage, the sum should be 100%")),r},ae=function(e,n){var t,r=[],c=Object(O.a)(e);try{for(c.s();!(t=c.n()).done;){var i=Object(f.a)(t.value,2),a=i[0];void 0===i[1]&&r.push("[".concat(n,"] Undefined ingredient value: '").concat(a,"'"))}}catch(o){c.e(o)}finally{c.f()}return r},oe=function(e){var n,t=[],r=Object(O.a)(e);try{for(r.s();!(n=r.n()).done;){var c=Object(f.a)(n.value,2),i=c[0],a=c[1];void 0===a.prefermentedFlour&&t.push("Undefined prefermented flour value"),t.push.apply(t,Object(b.a)(ie(a.flours,"PREFERMENT ".concat(i)))),t.push.apply(t,Object(b.a)(ae(a.ingredients,"PREFERMENT ".concat(i))))}}catch(o){r.e(o)}finally{r.f()}return R(Object(b.a)(e.values()).map((function(e){return e.prefermentedFlour})))>100&&t.push("Total prefermented flour > 100%"),t},se=function(e){var n=e.flours,t=e.ingredients,r=e.preferments,i=e.scaleBy,a=e.totalAmount,o=function(e,n,t){var r=[];return r.push.apply(r,Object(b.a)(ie(e,"OVERALL"))),r.push.apply(r,Object(b.a)(ae(n,"OVERALL"))),r.push.apply(r,Object(b.a)(oe(t))),r}(n,t,r);if(o.length>0)return console.log(o),Object(c.jsxs)("div",{className:"ion-padding",children:[Object(c.jsx)("strong",{children:"RECIPE NOT VALID"}),Object(c.jsx)("ul",{children:o.map((function(e,n){return Object(c.jsx)("li",{children:e},n)}))})]});var s=function(e,n,t,r,c){var i=ee(e,n,r);return $(e,n,t,c/i)}(n,t,r,i,a),l=Object(b.a)(n.keys()).map((function(e){return[e,void 0]})),j=Object(b.a)(t.keys()).map((function(e){return[e,void 0]})),u=new Map([].concat(Object(b.a)(l),Object(b.a)(j)));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Z,{title:"OVERALL",ingredientsPercentage:new Map([].concat(Object(b.a)(n),Object(b.a)(t))),ingredientsWeight:s.overall}),Object(b.a)(s.preferments).map((function(e){var n=Object(f.a)(e,2),t=n[0],i=n[1],a=new Map([].concat(Object(b.a)(r.get(t).flours),Object(b.a)(r.get(t).ingredients)));return i.seed&&a.set("(sourdough seed)",i.seed),Object(c.jsx)(Z,{title:t,ingredientsPercentage:a,ingredientsWeight:i.ingredients,totalWeightSubtract:i.seed},t)})),Object(c.jsx)(Z,{title:"FINAL DOUGH",ingredientsPercentage:u,ingredientsWeight:s.final})]})},le=se=a.a.memo(se),je=function(e){var n=e.flours,t=e.ingredients,r=e.preferments,a=Object(i.useState)(void 0),o=Object(f.a)(a,2),s=o[0],l=o[1],j=Object(i.useState)(void 0),u=Object(f.a)(j,2),d=u[0],b=u[1],O=s&&d?Object(c.jsx)(le,{flours:n,ingredients:t,preferments:r,scaleBy:s,totalAmount:d}):void 0;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"ion-padding-bottom",children:[Object(c.jsx)(J,{onSelect:l}),Object(c.jsx)(K,{value:d,onChange:b})]}),Object(c.jsx)("div",{className:"border-top ion-padding-vertical",children:O})]})},ue=je=a.a.memo(je),de=function(e){var n=e.name,t=e.editable,r=e.onLoad,i=e.onDelete;return t?Object(c.jsxs)(l.k,{children:[Object(c.jsx)(l.l,{children:n}),Object(c.jsx)(l.c,{slot:"end",onClick:i,fill:"clear",children:Object(c.jsx)(l.i,{slot:"icon-only",icon:v.w})})]}):Object(c.jsx)(l.k,{button:!0,onClick:r,routerLink:"/overallTab",routerDirection:"none",detail:!1,children:Object(c.jsx)(l.l,{children:n})})},be=de=a.a.memo(de),Oe=function(e){var n=e.recipes,t=e.editable,r=e.onLoadRecipe,i=e.onDeleteRecipe;return Object(c.jsx)(l.m,{children:n.map((function(e){return Object(c.jsx)(be,{name:e.name,editable:t,onLoad:function(){return r(e)},onDelete:function(){return i(e)}},e.name)}))})},fe=Oe=a.a.memo(Oe),Ae=function(e){var n=e.name,t=e.showAlert,r=e.setShowAlert,i=e.onSave;return Object(c.jsx)(l.a,{isOpen:t,onDidDismiss:function(){return r(!1)},header:"Save recipe",inputs:[{name:"name",type:"text",value:n}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:i}]})},ve=Ae=a.a.memo(Ae),he=function(e){var n=e.editable,t=e.name,r=e.recipes,i=e.showSaveAsAlert,a=e.setShowSaveAsAlert,o=e.onSaveRecipe,s=e.onLoadRecipe,l=e.onDeleteRecipe;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ve,{name:t,showAlert:i,setShowAlert:a,onSave:o}),Object(c.jsx)(fe,{recipes:r,editable:n,onLoadRecipe:s,onDeleteRecipe:l})]})},me=he=a.a.memo(he),ge=function(e){return e.map(xe)},pe=function(e){return e.map(ke)},xe=function(e){return{name:e.name,flours:we(e.flours),ingredients:we(e.ingredients),preferments:ye(e.preferments)}},ke=function(e){return{name:e.name,flours:Ce(e.flours),ingredients:Ce(e.ingredients),preferments:Pe(e.preferments)}},we=function(e){return Object(b.a)(e)},Ce=function(e){return new Map(e)},ye=function(e){return Object(b.a)(e).map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return[t,Re(r)]}))},Pe=function(e){return new Map(e.map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return[t,Se(r)]})))},Re=function(e){return e.kind===r.PREDOUGH?{kind:e.kind,prefermentedFlour:e.prefermentedFlour,flours:we(e.flours),ingredients:we(e.ingredients)}:{kind:e.kind,prefermentedFlour:e.prefermentedFlour,seed:e.seed,flours:we(e.flours),ingredients:we(e.ingredients)}},Se=function(e){return e.kind===r.PREDOUGH?{kind:e.kind,prefermentedFlour:e.prefermentedFlour,flours:Ce(e.flours),ingredients:Ce(e.ingredients)}:{kind:e.kind,prefermentedFlour:e.prefermentedFlour,seed:e.seed,flours:Ce(e.flours),ingredients:Ce(e.ingredients)}},De="Untitled",Me=new Map,Be=new Map,Ee=new Map,Ne=[],Ie=[],Ue=function(){var e=Object(i.useState)(false),n=Object(f.a)(e,2),t=n[0],r=n[1],a=function(){var e="recipes",n=[],t=Object(i.useState)((function(){var t=window.localStorage.getItem(e);return null!==t?pe(JSON.parse(t)):n})),r=Object(f.a)(t,2),c=r[0],a=r[1];return Object(i.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(ge(c)))}),[e,c]),[c,a]}(),o=Object(f.a)(a,2),s=o[0],j=o[1],h=Object(i.useState)(void 0),m=Object(f.a)(h,2),g=m[0],x=m[1],k=Object(i.useState)(!1),w=Object(f.a)(k,2),C=w[0],y=w[1],P=Object(i.useState)(De),R=Object(f.a)(P,2),D=R[0],M=R[1],B=Object(i.useState)(Me),E=Object(f.a)(B,2),N=E[0],I=E[1],U=Object(i.useState)(Be),T=Object(f.a)(U,2),G=T[0],L=T[1],H=Object(i.useState)(Ee),W=Object(f.a)(H,2),Q=W[0],q=W[1],Y=Object(i.useState)(Ne),X=Object(f.a)(Y,2),_=X[0],J=X[1],K=Object(i.useState)(Ie),V=Object(f.a)(K,2),Z=V[0],$=V[1],ee=g&&!(g.flours===N&&g.ingredients===G&&g.preferments===Q),ne=Object(i.useCallback)((function(e,n){var t,r=Q,c=Object(O.a)(Q);try{for(c.s();!(t=c.n()).done;){var i=Object(f.a)(t.value,2),a=i[0],o=i[1],s=new Map(Object(b.a)(o[e]).filter((function(e){var t=Object(f.a)(e,2),r=t[0];t[1];return!n.includes(r)})));if(s.size!==o[e].size){var l=Object(d.a)(Object(d.a)({},o),{},Object(u.a)({},e,s));r=new Map([].concat(Object(b.a)(r),[[a,l]]))}}}catch(j){c.e(j)}finally{c.f()}r!==Q&&q(r)}),[Q,q]),te=Object(i.useCallback)((function(e){I(e),S(Object(b.a)(e.keys()),Object(b.a)(N.keys()))||J(Object(b.a)(e.keys()));var n=Object(b.a)(N.keys()).filter((function(n){return!e.has(n)}));0!==n.length&&ne("flours",n)}),[I,ne,N]),re=Object(i.useCallback)((function(e){L(e),S(Object(b.a)(e.keys()),Object(b.a)(G.keys()))||$(Object(b.a)(e.keys()));var n=Object(b.a)(G.keys()).filter((function(n){return!e.has(n)}));0!==n.length&&ne("ingredients",n)}),[L,ne,G]),ce=Object(i.useCallback)((function(){return r((function(e){return!e}))}),[r]),ie=Object(i.useCallback)((function(e){var n=e.name,t={name:n,flours:N,ingredients:G,preferments:Q};void 0!==s.find((function(e){return e.name===t.name}))?j((function(e){return e.map((function(e){return e.name===t.name?t:e}))})):j((function(e){return[].concat(Object(b.a)(e),[t])})),M(n),x(t)}),[s,N,G,Q,j,M,x]),ae=Object(i.useCallback)((function(){y(!0)}),[y]),oe=Object(i.useCallback)((function(e){M(e.name),I(e.flours),L(e.ingredients),q(e.preferments),J(Object(b.a)(e.flours.keys())),$(Object(b.a)(e.ingredients.keys())),x(e)}),[M,I,L,q,J,$,x]),se=Object(i.useCallback)((function(e){return j((function(n){return n.filter((function(n){return n!==e}))}))}),[j]),le=Object(i.useCallback)((function(){r(false),M(De),I(Me),L(Be),q(Ee),J(Ne),$(Ie),x(void 0)}),[r,M,I,L,q,J,$,x]),je=Object(i.useCallback)((function(){t&&r(!1)}),[t,r]);return Object(c.jsxs)(l.x,{onIonTabsDidChange:je,children:[Object(c.jsxs)(l.r,{id:"main",children:[Object(c.jsx)(A.b,{path:"/overallTab",render:function(){return Object(c.jsx)(p,{title:D,editActive:t,recipeEdited:ee,onEditToggle:ce,onSave:ae,onReset:le,showInfo:!0,children:Object(c.jsx)(F,{flours:N,ingredients:G,editable:t,onFloursChange:te,onIngredientsChange:re})})},exact:!0}),Object(c.jsx)(A.b,{path:"/prefermentTab",render:function(){return Object(c.jsx)(p,{title:D,editActive:t,recipeEdited:ee,onEditToggle:ce,onSave:ae,onReset:le,children:Object(c.jsx)(z,{availableFlours:_,availableIngredients:Z,preferments:Q,editable:t,onPrefermentsChange:q})})},exact:!0}),Object(c.jsx)(A.b,{path:"/finalDough",render:function(){return Object(c.jsx)(p,{title:D,recipeEdited:ee,onSave:ae,onReset:le,children:Object(c.jsx)(ue,{flours:N,ingredients:G,preferments:Q})})},exact:!0}),Object(c.jsx)(A.b,{path:"/recipes",render:function(){return Object(c.jsx)(p,{title:"Recipes",editActive:t,onEditToggle:ce,children:Object(c.jsx)(me,{editable:t,name:D,recipes:s,showSaveAsAlert:C,setShowSaveAsAlert:y,onSaveRecipe:ie,onLoadRecipe:oe,onDeleteRecipe:se})})},exact:!0}),Object(c.jsx)(A.b,{path:"/",render:function(){return Object(c.jsx)(A.a,{to:"/overallTab"})},exact:!0})]}),Object(c.jsxs)(l.v,{slot:"bottom",children:[Object(c.jsxs)(l.w,{tab:"overallTab",href:"/overallTab",children:[Object(c.jsx)(l.i,{icon:v.s}),Object(c.jsx)(l.l,{children:"OVERALL"})]}),Object(c.jsxs)(l.w,{tab:"prefermentTab",href:"/prefermentTab",children:[Object(c.jsx)(l.i,{icon:v.c}),Object(c.jsx)(l.l,{children:"PREFERMENT"})]}),Object(c.jsxs)(l.w,{tab:"finalDough",href:"/finalDough",children:[Object(c.jsx)(l.i,{icon:v.e}),Object(c.jsx)(l.l,{children:"DOUGH"})]}),Object(c.jsxs)(l.w,{tab:"recipes",href:"/recipes",children:[Object(c.jsx)(l.i,{icon:v.d}),Object(c.jsx)(l.l,{children:"RECIPES"})]})]})]})},Fe=(t(71),t(72),t(73),t(74),t(75),t(76),t(77),t(78),t(79),t(80),t(81),t(82),function(){return Object(c.jsx)(l.b,{children:Object(c.jsx)(j.a,{children:Object(c.jsx)(Ue,{})})})}),Te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ge(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(c.jsx)(Fe,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://visciang.github.io",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("https://visciang.github.io","/service-worker.js");Te?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ge(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ge(n,e)}))}}()}},[[83,3,4]]]);
//# sourceMappingURL=main.126d3bba.chunk.js.map