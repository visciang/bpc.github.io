(this.webpackJsonpbpc=this.webpackJsonpbpc||[]).push([[1],{53:function(e,n){e.exports="data:image/gif;base64,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"},54:function(e){e.exports=JSON.parse('{"a":"0.1.4"}')},58:function(e,n,t){e.exports=t(84)},65:function(e,n,t){var a={"./ion-action-sheet.entry.js":[86,6],"./ion-alert.entry.js":[87,7],"./ion-app_8.entry.js":[88,8],"./ion-avatar_3.entry.js":[89,18],"./ion-back-button.entry.js":[90,19],"./ion-backdrop.entry.js":[91,43],"./ion-button_2.entry.js":[92,20],"./ion-card_5.entry.js":[93,21],"./ion-checkbox.entry.js":[94,22],"./ion-chip.entry.js":[95,23],"./ion-col_3.entry.js":[96,44],"./ion-datetime_3.entry.js":[97,11],"./ion-fab_3.entry.js":[98,24],"./ion-img.entry.js":[99,45],"./ion-infinite-scroll_2.entry.js":[100,46],"./ion-input.entry.js":[101,25],"./ion-item-option_3.entry.js":[102,26],"./ion-item_8.entry.js":[103,27],"./ion-loading.entry.js":[104,28],"./ion-menu_3.entry.js":[105,29],"./ion-modal.entry.js":[106,9],"./ion-nav_2.entry.js":[107,15],"./ion-popover.entry.js":[108,10],"./ion-progress-bar.entry.js":[109,30],"./ion-radio_2.entry.js":[110,31],"./ion-range.entry.js":[111,32],"./ion-refresher_2.entry.js":[112,12],"./ion-reorder_2.entry.js":[113,17],"./ion-ripple-effect.entry.js":[114,47],"./ion-route_4.entry.js":[115,33],"./ion-searchbar.entry.js":[116,34],"./ion-segment_2.entry.js":[117,35],"./ion-select_3.entry.js":[118,36],"./ion-slide_2.entry.js":[119,48],"./ion-spinner.entry.js":[120,14],"./ion-split-pane.entry.js":[121,49],"./ion-tab-bar_2.entry.js":[122,37],"./ion-tab_2.entry.js":[123,16],"./ion-text.entry.js":[124,38],"./ion-textarea.entry.js":[125,39],"./ion-toast.entry.js":[126,40],"./ion-toggle.entry.js":[127,13],"./ion-virtual-scroll.entry.js":[128,50]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(a)},r.id=65,e.exports=r},67:function(e,n,t){var a={"./ion-icon.entry.js":[130,57]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t(r)}))}r.keys=function(){return Object.keys(a)},r.id=67,e.exports=r},82:function(e,n,t){},83:function(e,n,t){},84:function(e,n,t){"use strict";t.r(n);var a,r=t(0),o=t.n(r),c=t(32),l=t.n(c),i=t(1),u=t(51),s=t(16),m=t(13),d=t(3),f=t(15),A=t(4),b=t(24),v=t(10),p=t(53),g=t.n(p),O=t(54),j=function(e){var n=e.showAlert,t=e.setShowAlert,a='\n    <div class="ion-text-center">\n      <p>\n        <a href="mailto:panificazionefavaglie@gmail.com?subject=BakerCalc">\n          Info mail\n        </a>\n      </p>\n      <p>\n        If you like the App<br/>support me with a beer!<br/>Thank you\n      </p>\n      <p>\n        <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=YWVFRGAC55UX4">\n        <img src='.concat(g.a,">\n        </a>\n      </p>\n    </div>\n  ");return o.a.createElement(i.a,{isOpen:n,onDidDismiss:function(){return t(!1)},header:"Info - v".concat(O.a),message:a})},E=j=o.a.memo(j),h=function(e){var n=e.title,t=e.editActive,a=e.recipeEdited,c=e.onEditToggle,l=e.onSave,u=e.onReset,s=e.showInfo,m=e.children,d=Object(r.useState)(!1),f=Object(A.a)(d,2),b=f[0],p=f[1],g=Object(r.useCallback)((function(){return p(!0)}),[p]),O=c?o.a.createElement(i.c,{color:"dark",fill:t?"solid":void 0,onClick:c},o.a.createElement(i.i,{icon:v.o})):void 0,j=l?o.a.createElement(i.c,{color:"dark",fill:a?"solid":void 0,routerLink:"/recipes",onClick:l},o.a.createElement(i.i,{icon:v.t})):void 0,h=s?o.a.createElement(i.c,{color:"dark",onClick:g},o.a.createElement(i.i,{icon:v.l})):void 0,k=u?o.a.createElement(i.c,{color:"dark",onClick:u},o.a.createElement(i.i,{icon:v.p})):void 0,w=s?o.a.createElement(E,{showAlert:b,setShowAlert:p}):void 0;return o.a.createElement(i.n,null,o.a.createElement(i.h,{translucent:!0},o.a.createElement(i.A,{color:"toolbar"},o.a.createElement(i.d,{slot:"start"},h,k),o.a.createElement(i.z,null,n),o.a.createElement(i.d,{slot:"end"},j,O))),o.a.createElement(i.f,{fullscreen:!0,className:"ion-padding"},o.a.createElement(i.h,{collapse:"condense",className:"ion-padding-bottom"},o.a.createElement(i.A,null,o.a.createElement(i.z,{size:"large"},n))),w,m))},k=function(e){var n=e.title,t=e.onDelete,a=t?o.a.createElement(i.c,{size:"small",slot:"end",onClick:t,fill:"clear"},o.a.createElement(i.i,{slot:"icon-only",icon:v.w})):void 0;return o.a.createElement(i.A,null,o.a.createElement(i.z,{className:"ion-text-center"},n),a)},w=k=o.a.memo(k),y=function(e){var n=e.onNewItem,t=Object(r.useState)(void 0),a=Object(A.a)(t,2),c=a[0],l=a[1],u=Object(r.useCallback)((function(){n(c),l(void 0)}),[c,n,l]),s=Object(r.useCallback)((function(e){l(C(e.detail.value))}),[l]);return o.a.createElement(i.k,{lines:"none"},o.a.createElement(i.j,{required:!0,type:"text",placeholder:"New ...",value:c,onIonChange:s}),o.a.createElement(i.c,{className:"ion-no-padding",onClick:u,fill:"clear",disabled:!(c&&void 0!==n)},o.a.createElement(i.i,{slot:"icon-only",icon:v.a})))},C=function(e){return(null===e||void 0===e?void 0:e.trim())?e.trim():void 0},P=y=o.a.memo(y),R=function(e,n){return function(t){var a,r;if(!(null===(a=t.detail.value)||void 0===a?void 0:a.endsWith(","))&&!(null===(r=t.detail.value)||void 0===r?void 0:r.endsWith("."))){var o=void 0;t.detail.value&&(o=parseFloat(t.detail.value.replace(",","."))),o!==e&&n(o)}}},S=function(){for(var e=0,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];for(var r=0,o=t;r<o.length;r++){var c,l=o[r],i=Object(f.a)(l);try{for(i.s();!(c=i.n()).done;){var u=c.value;e+=u||0}}catch(s){i.e(s)}finally{i.f()}}return e},D=function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0},M=function(e,n){var t=new Map(e);return t.delete(n),t},B=function(e,n,t){var a=Object(d.a)(e),r=a[n];return a.splice(n,1),a.splice(t,0,r),new Map(a)},N=function(e){var n=e.name,t=e.value,a=e.maxPercentage,c=e.editable,l=e.onChange,u=e.onDelete,s=Object(r.useCallback)(R(t,(function(e){return l(n,e)})),[n,t,l]),m=o.a.createElement(o.a.Fragment,null);return c?u&&(m=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.c,{slot:"end",onClick:function(){return u(n)},fill:"clear"},o.a.createElement(i.i,{slot:"icon-only",icon:v.w})),o.a.createElement(i.o,{slot:"end",className:"ion-no-margin"}))):m=o.a.createElement(o.a.Fragment,null,o.a.createElement(i.j,{className:"ion-padding-horizontal ion-text-right",type:"number",inputMode:"decimal",min:"0",max:null===a||void 0===a?void 0:a.toString(),value:t,onIonChange:s}),o.a.createElement(i.y,null,"%")),o.a.createElement(i.k,null,o.a.createElement(i.l,null,n),m)},I=N=o.a.memo(N),U=function(e){var n=e.title,t=e.ingredients,a=e.maxPercentage,c=e.editable,l=e.onIngredientsChange,u=Object(r.useCallback)((function(e,n){return l(new Map([].concat(Object(d.a)(t),[[e,n]])))}),[t,l]),s=Object(r.useCallback)((function(e){l(B(t,e.detail.from,e.detail.to)),e.detail.complete()}),[t,l]),m=Object(r.useCallback)((function(e){return l(new Map([].concat(Object(d.a)(t),[[e,void 0]])))}),[t,l]),f=Object(r.useCallback)((function(e){return l(M(t,e))}),[t,l]);return o.a.createElement(i.m,{lines:"none"},o.a.createElement(w,{title:n}),o.a.createElement(i.p,{disabled:!c,onIonItemReorder:s},Object(d.a)(t).map((function(e){var n=Object(A.a)(e,2),t=n[0],r=n[1];return o.a.createElement(I,{key:t,name:t,value:r,maxPercentage:a,editable:c,onChange:u,onDelete:f})}))),o.a.createElement(P,{onNewItem:m}))},F=U=o.a.memo(U),x=function(e){var n=e.flours,t=e.ingredients,a=e.editable,r=e.onFloursChange,c=e.onIngredientsChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{title:"FLOURS",ingredients:n,maxPercentage:100,onIngredientsChange:r,editable:a}),o.a.createElement(F,{title:"INGREDIENTS",ingredients:t,maxPercentage:void 0,onIngredientsChange:c,editable:a}))},T=x=o.a.memo(x);!function(e){e.PREDOUGH="PREDOUGH",e.SOURDOUGH="SOURDOUGH"}(a||(a={}));var G,L=function(e){var n=e.value,t=e.onSelect,c=Object(r.useCallback)((function(e){return e.detail.value&&t(e.detail.value)}),[t]);return o.a.createElement(i.k,{lines:"none",color:"light"},o.a.createElement(i.l,null,"Kind"),o.a.createElement(i.t,{interface:"popover",value:n,onIonChange:c},Object.keys(a).map((function(e){return o.a.createElement(i.u,{key:e,value:e},e)}))))},H=L=o.a.memo(L),W=function(e){var n=e.label,t=e.values,a=e.onPick,c=Object(r.useState)(void 0),l=Object(A.a)(c,2),u=l[0],s=l[1];return o.a.createElement(i.k,{lines:"none",color:"light"},o.a.createElement(i.l,null,n),o.a.createElement(i.t,{disabled:0===t.length,interface:"popover",value:u,onIonChange:function(e){e.detail.value&&(a(e.detail.value),s(void 0))}},Object(d.a)(t).map((function(e){return o.a.createElement(i.u,{key:e,value:e},e)}))))},Q=W=o.a.memo(W),q=function(e){var n=e.title,t=e.availableFlours,c=e.availableIngredients,l=e.preferment,u=e.editable,s=e.onPrefermentChange,f=e.onPrefermentDelete,b=Object(r.useCallback)((function(e,n){return s(Object(m.a)(Object(m.a)({},l),{},{prefermentedFlour:n}))}),[l,s]),v=Object(r.useCallback)((function(e,n){l.kind===a.SOURDOUGH&&s(Object(m.a)(Object(m.a)({},l),{},{seed:n}))}),[l,s]),p=Object(r.useCallback)((function(e,n){return s(Object(m.a)(Object(m.a)({},l),{},{flours:new Map([].concat(Object(d.a)(l.flours),[[e,n]]))}))}),[l,s]),g=Object(r.useCallback)((function(e,n){return s(Object(m.a)(Object(m.a)({},l),{},{ingredients:new Map([].concat(Object(d.a)(l.ingredients),[[e,n]]))}))}),[l,s]),O=Object(r.useCallback)((function(e){return s(Object(m.a)(Object(m.a)({},l),{},{flours:M(l.flours,e)}))}),[l,s]),j=Object(r.useCallback)((function(e){return s(Object(m.a)(Object(m.a)({},l),{},{ingredients:M(l.ingredients,e)}))}),[l,s]),E=Object(r.useCallback)((function(e){s(Object(m.a)(Object(m.a)({},l),{},{flours:B(l.flours,e.detail.from,e.detail.to)})),e.detail.complete()}),[l,s]),h=Object(r.useCallback)((function(e){s(Object(m.a)(Object(m.a)({},l),{},{ingredients:B(l.ingredients,e.detail.from,e.detail.to)})),e.detail.complete()}),[l,s]),k=Object(r.useCallback)((function(e){s(Object(m.a)(Object(m.a)({},l),{},{flours:new Map([].concat(Object(d.a)(l.flours),[[e,void 0]]))}))}),[l,s]),y=Object(r.useCallback)((function(e){s(Object(m.a)(Object(m.a)({},l),{},{ingredients:new Map([].concat(Object(d.a)(l.ingredients),[[e,void 0]]))}))}),[l,s]),C=t.filter((function(e){return!l.flours.has(e)})),P=c.filter((function(e){return!l.ingredients.has(e)}));return o.a.createElement(i.m,{lines:"none"},o.a.createElement(w,{title:n,onDelete:u?f:void 0}),o.a.createElement(I,{name:"Prefermented flour",value:l.prefermentedFlour,maxPercentage:100,editable:u,onChange:b}),l.kind===a.SOURDOUGH?o.a.createElement(I,{name:"Sourdough starter",value:l.seed,maxPercentage:100,editable:u,onChange:v}):void 0,o.a.createElement(i.p,{disabled:!u,onIonItemReorder:E},Object(d.a)(l.flours).map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return o.a.createElement(I,{key:t,name:t,value:a,maxPercentage:100,editable:u,onChange:p,onDelete:O})}))),o.a.createElement(i.p,{disabled:!u,onIonItemReorder:h},Object(d.a)(l.ingredients).map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return o.a.createElement(I,{key:t,name:t,value:a,maxPercentage:100,editable:u,onChange:g,onDelete:j})}))),o.a.createElement(Q,{label:"Pick flour",values:C,onPick:k}),o.a.createElement(Q,{label:"Pick ingredient",values:P,onPick:y}))},Y=q=o.a.memo(q),z=function(e){var n=e.availableFlours,t=e.availableIngredients,c=e.preferments,l=e.editable,i=e.onPrefermentsChange,u=Object(r.useState)(void 0),s=Object(A.a)(u,2),m=s[0],f=s[1],b=Object(r.useCallback)((function(e){var n;n=m===a.PREDOUGH?{kind:a.PREDOUGH,prefermentedFlour:void 0,flours:new Map,ingredients:new Map}:{kind:a.SOURDOUGH,prefermentedFlour:void 0,flours:new Map,ingredients:new Map,seed:void 0},i(new Map([].concat(Object(d.a)(c),[[e,n]]))),f(void 0)}),[m,c,i,f]),v=Object(r.useCallback)((function(e,n){return i(new Map([].concat(Object(d.a)(c),[[e,n]])))}),[c,i]),p=Object(r.useCallback)((function(e){var n=new Map(c);n.delete(e),i(n)}),[c,i]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ion-padding-bottom"},o.a.createElement(H,{value:m,onSelect:f}),o.a.createElement(P,{onNewItem:m?b:void 0})),Object(d.a)(c).map((function(e){var a=Object(A.a)(e,2),r=a[0],c=a[1];return o.a.createElement("div",{key:r,className:"border-top ion-padding-vertical"},o.a.createElement(_,{name:r,availableFlours:n,availableIngredients:t,preferment:c,editable:l,onPrefermentChange:v,onPrefermentDelete:p}))})))},X=z=o.a.memo(z),_=o.a.memo((function(e){var n=e.name,t=e.availableFlours,a=e.availableIngredients,c=e.preferment,l=e.editable,i=e.onPrefermentChange,u=e.onPrefermentDelete,s=Object(r.useCallback)((function(e){return i(n,e)}),[n,i]),m=Object(r.useCallback)((function(){return u(n)}),[n,u]);return o.a.createElement(Y,{title:n,availableFlours:t,availableIngredients:a,preferment:c,editable:l,onPrefermentChange:s,onPrefermentDelete:m})}));!function(e){e.DOUGH="DOUGH",e.FLOUR="FLOUR"}(G||(G={}));var J=function(e){var n=e.onSelect,t=Object(r.useCallback)((function(e){return n(e.detail.value)}),[n]);return o.a.createElement(i.k,{lines:"none",color:"light"},o.a.createElement(i.l,null,"Scale by"),o.a.createElement(i.t,{interface:"popover",onIonChange:t},Object.keys(G).map((function(e){return o.a.createElement(i.u,{key:e,value:e},e)}))))},K=J=o.a.memo(J),V=function(e){var n=e.value,t=e.onChange;return o.a.createElement(i.k,{lines:"none"},o.a.createElement(i.l,null,"Total amount"),o.a.createElement(i.j,{className:"ion-padding-horizontal ion-text-right",type:"number",inputMode:"decimal",min:"0",value:n,onIonChange:R(n,t)}),o.a.createElement(i.y,null,"g"))},Z=function(e){var n=e.title,t=e.ingredientsPercentage,a=e.ingredientsWeight,r=e.totalWeightSubtract,c=S(a.values())-(r||0);return o.a.createElement(i.m,{lines:"none"},o.a.createElement(w,{title:n}),o.a.createElement(i.g,null,o.a.createElement(i.s,{color:"light"},o.a.createElement(i.e,{className:"ion-text-start"},o.a.createElement("strong",null,"INGREDIENT")),o.a.createElement(i.e,{size:"2",className:"ion-text-end"},o.a.createElement("strong",null,"%")),o.a.createElement(i.e,{className:"ion-text-end"},o.a.createElement("strong",null,"WEIGHT"))),Object(d.a)(t).filter((function(e){var n=Object(A.a)(e,2),t=n[0];n[1];return a.has(t)&&0!==a.get(t)})).map((function(e,n){var t,r=Object(A.a)(e,2),c=r[0],l=r[1];return o.a.createElement(i.s,{key:"".concat(n,"-").concat(c),className:n%2===0?"background-light":void 0},o.a.createElement(i.e,{className:"ion-text-start"},c),o.a.createElement(i.e,{size:"2",className:"ion-text-end"},l),o.a.createElement(i.e,{className:"ion-text-end"},(null===(t=a.get(c))||void 0===t?void 0:t.toFixed(2))||o.a.createElement(i.y,{color:"danger"},"ERROR !")))})),o.a.createElement(i.s,null,o.a.createElement(i.e,{className:"ion-text-start"}),o.a.createElement(i.e,{size:"2",className:"ion-text-end"}),o.a.createElement(i.e,{className:"ion-text-end"},(null===c||void 0===c?void 0:c.toFixed(2))||o.a.createElement(i.y,{color:"danger"},"ERROR !")))))},$=Z=o.a.memo(Z),ee=function(e,n,t,a){var r=new Map([].concat(Object(d.a)(te(e,a)),Object(d.a)(te(n,a)))),o=ae(t,a);return{overall:r,preferments:o,final:oe(r,o)}},ne=function(e,n,t){return t===G.FLOUR?100:S(e.values(),n.values())},te=function(e,n){return new Map(Object(d.a)(e).map((function(e){var t=Object(A.a)(e,2);return[t[0],t[1]*n]})))},ae=function(e,n){return new Map(Object(d.a)(e).map((function(e){var t=Object(A.a)(e,2),a=t[0],r=t[1];return[a,re(r,n)]})))},re=function(e,n){var t=n*(e.prefermentedFlour/100),r=new Map([].concat(Object(d.a)(te(e.ingredients,t)),Object(d.a)(te(e.flours,t)))),o=void 0;return e.kind===a.SOURDOUGH&&(o=e.seed*t,r.set("(sourdough seed)",o)),{kind:e.kind,ingredients:r,seed:o}},oe=function(e,n){var t,a=new Map(Object(d.a)(e)),r=Object(f.a)(e.keys());try{var o=function(){var e=t.value,r=a.get(e)-S(Object(d.a)(n.values()).map((function(n){return n.ingredients.get(e)||0})));Math.abs(r)<=.01&&(r=0),r<0&&(r=void 0),a.set(e,r)};for(r.s();!(t=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}return a},ce=function(e,n){var t,a=[],r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var o=Object(A.a)(t.value,2),c=o[0];void 0===o[1]&&a.push("[".concat(n,"] Undefined flour value: '").concat(c,"'"))}}catch(l){r.e(l)}finally{r.f()}return 100!==S(e.values())&&a.push("[".concat(n,"] Bad flours percentage, the sum should be 100%")),a},le=function(e,n){var t,a=[],r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var o=Object(A.a)(t.value,2),c=o[0];void 0===o[1]&&a.push("[".concat(n,"] Undefined ingredient value: '").concat(c,"'"))}}catch(l){r.e(l)}finally{r.f()}return a},ie=function(e){var n,t=[],a=Object(f.a)(e);try{for(a.s();!(n=a.n()).done;){var r=Object(A.a)(n.value,2),o=r[0],c=r[1];void 0===c.prefermentedFlour&&t.push("Undefined prefermented flour value"),t.push.apply(t,Object(d.a)(ce(c.flours,"PREFERMENT ".concat(o)))),t.push.apply(t,Object(d.a)(le(c.ingredients,"PREFERMENT ".concat(o))))}}catch(l){a.e(l)}finally{a.f()}return S(Object(d.a)(e.values()).map((function(e){return e.prefermentedFlour})))>100&&t.push("Total prefermented flour > 100%"),t},ue=function(e){var n=e.flours,t=e.ingredients,a=e.preferments,r=e.scaleBy,c=e.totalAmount,l=function(e,n,t){var a=[];return a.push.apply(a,Object(d.a)(ce(e,"OVERALL"))),a.push.apply(a,Object(d.a)(le(n,"OVERALL"))),a.push.apply(a,Object(d.a)(ie(t))),a}(n,t,a);if(l.length>0)return console.log(l),o.a.createElement("div",{className:"ion-padding"},o.a.createElement("strong",null,"RECIPE NOT VALID"),o.a.createElement("ul",null,l.map((function(e,n){return o.a.createElement("li",{key:n},e)}))));var i=function(e,n,t,a,r){var o=ne(e,n,a);return ee(e,n,t,r/o)}(n,t,a,r,c),u=Object(d.a)(n.keys()).map((function(e){return[e,void 0]})),s=Object(d.a)(t.keys()).map((function(e){return[e,void 0]})),m=new Map([].concat(Object(d.a)(u),Object(d.a)(s)));return o.a.createElement(o.a.Fragment,null,o.a.createElement($,{title:"OVERALL",ingredientsPercentage:new Map([].concat(Object(d.a)(n),Object(d.a)(t))),ingredientsWeight:i.overall}),Object(d.a)(i.preferments).map((function(e){var n=Object(A.a)(e,2),t=n[0],r=n[1],c=new Map([].concat(Object(d.a)(a.get(t).flours),Object(d.a)(a.get(t).ingredients)));return r.seed&&c.set("(sourdough seed)",r.seed),o.a.createElement($,{key:t,title:t,ingredientsPercentage:c,ingredientsWeight:r.ingredients,totalWeightSubtract:r.seed})})),o.a.createElement($,{title:"FINAL DOUGH",ingredientsPercentage:m,ingredientsWeight:i.final}))},se=ue=o.a.memo(ue),me=function(e){var n=e.flours,t=e.ingredients,a=e.preferments,c=Object(r.useState)(void 0),l=Object(A.a)(c,2),i=l[0],u=l[1],s=Object(r.useState)(void 0),m=Object(A.a)(s,2),d=m[0],f=m[1],b=i&&d?o.a.createElement(se,{flours:n,ingredients:t,preferments:a,scaleBy:i,totalAmount:d}):void 0;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ion-padding-bottom"},o.a.createElement(K,{onSelect:u}),o.a.createElement(V,{value:d,onChange:f})),o.a.createElement("div",{className:"border-top ion-padding-vertical"},b))},de=me=o.a.memo(me),fe=function(e){var n=e.name,t=e.editable,a=e.onLoad,r=e.onDelete;return t?o.a.createElement(i.k,null,o.a.createElement(i.l,null,n),o.a.createElement(i.c,{slot:"end",onClick:r,fill:"clear"},o.a.createElement(i.i,{slot:"icon-only",icon:v.w}))):o.a.createElement(i.k,{button:!0,onClick:a,routerLink:"/overallTab",routerDirection:"none",detail:!1},o.a.createElement(i.l,null,n))},Ae=fe=o.a.memo(fe),be=function(e){var n=e.recipes,t=e.editable,a=e.onLoadRecipe,r=e.onDeleteRecipe;return o.a.createElement(i.m,null,n.map((function(e){return o.a.createElement(Ae,{key:e.name,name:e.name,editable:t,onLoad:function(){return a(e)},onDelete:function(){return r(e)}})})))},ve=be=o.a.memo(be),pe=function(e){var n=e.name,t=e.showAlert,a=e.setShowAlert,r=e.onSave;return o.a.createElement(i.a,{isOpen:t,onDidDismiss:function(){return a(!1)},header:"Save recipe",inputs:[{name:"name",type:"text",value:n}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:r}]})},ge=pe=o.a.memo(pe),Oe=function(e){var n=e.editable,t=e.name,a=e.recipes,r=e.showSaveAsAlert,c=e.setShowSaveAsAlert,l=e.onSaveRecipe,i=e.onLoadRecipe,u=e.onDeleteRecipe;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,{name:t,showAlert:r,setShowAlert:c,onSave:l}),o.a.createElement(ve,{recipes:a,editable:n,onLoadRecipe:i,onDeleteRecipe:u}))},je=Oe=o.a.memo(Oe),Ee=function(e){return e.map(ke)},he=function(e){return e.map(we)},ke=function(e){return{name:e.name,flours:ye(e.flours),ingredients:ye(e.ingredients),preferments:Pe(e.preferments)}},we=function(e){return{name:e.name,flours:Ce(e.flours),ingredients:Ce(e.ingredients),preferments:Re(e.preferments)}},ye=function(e){return Object(d.a)(e)},Ce=function(e){return new Map(e)},Pe=function(e){return Object(d.a)(e).map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return[t,Se(a)]}))},Re=function(e){return new Map(e.map((function(e){var n=Object(A.a)(e,2),t=n[0],a=n[1];return[t,De(a)]})))},Se=function(e){return e.kind===a.PREDOUGH?{kind:e.kind,prefermentedFlour:e.prefermentedFlour,flours:ye(e.flours),ingredients:ye(e.ingredients)}:{kind:e.kind,prefermentedFlour:e.prefermentedFlour,seed:e.seed,flours:ye(e.flours),ingredients:ye(e.ingredients)}},De=function(e){return e.kind===a.PREDOUGH?{kind:e.kind,prefermentedFlour:e.prefermentedFlour,flours:Ce(e.flours),ingredients:Ce(e.ingredients)}:{kind:e.kind,prefermentedFlour:e.prefermentedFlour,seed:e.seed,flours:Ce(e.flours),ingredients:Ce(e.ingredients)}},Me=new Map,Be=new Map,Ne=new Map,Ie=[],Ue=[],Fe=function(){var e=Object(r.useState)(!1),n=Object(A.a)(e,2),t=n[0],a=n[1],c=function(){var e=[],n=Object(r.useState)((function(){var n=window.localStorage.getItem("recipes");return null!==n?he(JSON.parse(n)):e})),t=Object(A.a)(n,2),a=t[0],o=t[1];return Object(r.useEffect)((function(){window.localStorage.setItem("recipes",JSON.stringify(Ee(a)))}),["recipes",a]),[a,o]}(),l=Object(A.a)(c,2),u=l[0],p=l[1],g=Object(r.useState)(void 0),O=Object(A.a)(g,2),j=O[0],E=O[1],k=Object(r.useState)(!1),w=Object(A.a)(k,2),y=w[0],C=w[1],P=Object(r.useState)("Untitled"),R=Object(A.a)(P,2),S=R[0],M=R[1],B=Object(r.useState)(Me),N=Object(A.a)(B,2),I=N[0],U=N[1],F=Object(r.useState)(Be),x=Object(A.a)(F,2),G=x[0],L=x[1],H=Object(r.useState)(Ne),W=Object(A.a)(H,2),Q=W[0],q=W[1],Y=Object(r.useState)(Ie),z=Object(A.a)(Y,2),_=z[0],J=z[1],K=Object(r.useState)(Ue),V=Object(A.a)(K,2),Z=V[0],$=V[1],ee=j&&!(j.flours===I&&j.ingredients===G&&j.preferments===Q),ne=Object(r.useCallback)((function(e,n){var t,a=Q,r=Object(f.a)(Q);try{for(r.s();!(t=r.n()).done;){var o=Object(A.a)(t.value,2),c=o[0],l=o[1],i=new Map(Object(d.a)(l[e]).filter((function(e){var t=Object(A.a)(e,2),a=t[0];t[1];return!n.includes(a)})));if(i.size!==l[e].size){var u=Object(m.a)(Object(m.a)({},l),{},Object(s.a)({},e,i));a=new Map([].concat(Object(d.a)(a),[[c,u]]))}}}catch(b){r.e(b)}finally{r.f()}a!==Q&&q(a)}),[Q,q]),te=Object(r.useCallback)((function(e){U(e),D(Object(d.a)(e.keys()),Object(d.a)(I.keys()))||J(Object(d.a)(e.keys()));var n=Object(d.a)(I.keys()).filter((function(n){return!e.has(n)}));0!==n.length&&ne("flours",n)}),[U,ne,I]),ae=Object(r.useCallback)((function(e){L(e),D(Object(d.a)(e.keys()),Object(d.a)(G.keys()))||$(Object(d.a)(e.keys()));var n=Object(d.a)(G.keys()).filter((function(n){return!e.has(n)}));0!==n.length&&ne("ingredients",n)}),[L,ne,G]),re=Object(r.useCallback)((function(){return a((function(e){return!e}))}),[a]),oe=Object(r.useCallback)((function(e){var n=e.name,t={name:n,flours:I,ingredients:G,preferments:Q};void 0!==u.find((function(e){return e.name===t.name}))?p((function(e){return e.map((function(e){return e.name===t.name?t:e}))})):p((function(e){return[].concat(Object(d.a)(e),[t])})),M(n),E(t)}),[u,I,G,Q,p,M,E]),ce=Object(r.useCallback)((function(){C(!0)}),[C]),le=Object(r.useCallback)((function(e){M(e.name),U(e.flours),L(e.ingredients),q(e.preferments),J(Object(d.a)(e.flours.keys())),$(Object(d.a)(e.ingredients.keys())),E(e)}),[M,U,L,q,J,$,E]),ie=Object(r.useCallback)((function(e){return p((function(n){return n.filter((function(n){return n!==e}))}))}),[p]),ue=Object(r.useCallback)((function(){a(!1),M("Untitled"),U(Me),L(Be),q(Ne),J(Ie),$(Ue),E(void 0)}),[a,M,U,L,q,J,$,E]),se=Object(r.useCallback)((function(){t&&a(!1)}),[t,a]);return o.a.createElement(i.x,{onIonTabsDidChange:se},o.a.createElement(i.r,{id:"main"},o.a.createElement(b.b,{path:"/overallTab",render:function(){return o.a.createElement(h,{title:S,editActive:t,recipeEdited:ee,onEditToggle:re,onSave:ce,onReset:ue,showInfo:!0},o.a.createElement(T,{flours:I,ingredients:G,editable:t,onFloursChange:te,onIngredientsChange:ae}))},exact:!0}),o.a.createElement(b.b,{path:"/prefermentTab",render:function(){return o.a.createElement(h,{title:S,editActive:t,recipeEdited:ee,onEditToggle:re,onSave:ce,onReset:ue},o.a.createElement(X,{availableFlours:_,availableIngredients:Z,preferments:Q,editable:t,onPrefermentsChange:q}))},exact:!0}),o.a.createElement(b.b,{path:"/finalDough",render:function(){return o.a.createElement(h,{title:S,recipeEdited:ee,onSave:ce,onReset:ue},o.a.createElement(de,{flours:I,ingredients:G,preferments:Q}))},exact:!0}),o.a.createElement(b.b,{path:"/recipes",render:function(){return o.a.createElement(h,{title:"Recipes",editActive:t,onEditToggle:re},o.a.createElement(je,{editable:t,name:S,recipes:u,showSaveAsAlert:y,setShowSaveAsAlert:C,onSaveRecipe:oe,onLoadRecipe:le,onDeleteRecipe:ie}))},exact:!0}),o.a.createElement(b.b,{path:"/",render:function(){return o.a.createElement(b.a,{to:"/overallTab"})},exact:!0})),o.a.createElement(i.v,{slot:"bottom"},o.a.createElement(i.w,{tab:"overallTab",href:"/overallTab"},o.a.createElement(i.i,{icon:v.s}),o.a.createElement(i.l,null,"OVERALL")),o.a.createElement(i.w,{tab:"prefermentTab",href:"/prefermentTab"},o.a.createElement(i.i,{icon:v.c}),o.a.createElement(i.l,null,"PREFERMENT")),o.a.createElement(i.w,{tab:"finalDough",href:"/finalDough"},o.a.createElement(i.i,{icon:v.e}),o.a.createElement(i.l,null,"DOUGH")),o.a.createElement(i.w,{tab:"recipes",href:"/recipes"},o.a.createElement(i.i,{icon:v.d}),o.a.createElement(i.l,null,"RECIPES"))))},xe=(t(72),t(73),t(74),t(75),t(76),t(77),t(78),t(79),t(80),t(81),t(82),t(83),function(){return o.a.createElement(i.b,null,o.a.createElement(u.a,null,o.a.createElement(Fe,null)))}),Te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ge(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(xe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://visciang.github.io",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("https://visciang.github.io","/service-worker.js");Te?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ge(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ge(n,e)}))}}()}},[[58,4,5]]]);
//# sourceMappingURL=main.cc463302.chunk.js.map