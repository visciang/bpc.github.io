{"version":3,"sources":["dataModel/Preferment.ts","components/InfoAlert.tsx","pages/tabs/Tab.tsx","components/IngredientsTitleToolbar.tsx","components/NewItemInput.tsx","components/utils.ts","components/IngredientPercentageItem.tsx","components/IngredientsPercentageList.tsx","pages/tabs/OverallTab.tsx","components/PrefermentSelector.tsx","dataModel/Recipe.ts","components/IngredientPicker.tsx","components/PrefermentPercentageList.tsx","pages/tabs/PrefermentTab.tsx","components/ScaleBySelector.tsx","components/TotalAmountInput.tsx","components/IngredientsWeightList.tsx","components/Calculator.ts","components/RecipeValidator.ts","components/FinalDoughTable.tsx","pages/tabs/FinalDoughTab.tsx","components/RecipeItem.tsx","components/RecipesList.tsx","components/RecipeSaveAsAlert.tsx","pages/tabs/RecipesTab.tsx","dataModel/Persistence.ts","pages/Tabs.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/img/donate.gif","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["PrefermentKind","InfoAlert","showAlert","setShowAlert","message","donate","isOpen","onDidDismiss","header","React","memo","Tab","title","editActive","recipeEdited","onEditToggle","onSave","onReset","showInfo","children","useState","showInfoAlert","setShowInfoAlert","onInfo","useCallback","editButton","color","fill","undefined","onClick","icon","pencilOutline","saveButton","routerLink","saveOutline","infoButton","informationCircleOutline","resetButton","refreshOutline","infoAlert","translucent","slot","fullscreen","className","collapse","size","IngredientsTitleToolbar","onDelete","deleteButton","trashOutline","NewItemInput","onNewItem","newItem","setNewItem","onIonChange","event","parseNewItem","detail","value","lines","required","type","placeholder","disabled","addOutline","trim","onIonChangeFloat","previousValue","onChangeFloat","endsWith","newValue","parseFloat","replace","sum","s","iterables","iterable","n","listEquals","listA","listB","length","idx","jdx","mapDelete","map","key","newMap","Map","delete","mapMove","keyAtIdx","toIdx","orderedKVPairs","movedKVPair","splice","IngredientPercentageItem","name","maxPercentage","editable","onChange","v","inputMode","min","max","toString","IngredientsPercentageList","ingredients","onIngredientsChange","onIngredientChange","onIngredientReorder","from","to","complete","onNewIngredient","onDeleteIngredient","onIonItemReorder","OverallTab","flours","onFloursChange","ScaleBy","PrefermentSelector","onSelect","interface","Object","keys","IngredientPicker","label","values","onPick","setValue","e","PrefermentPercentageList","availableFlours","availableIngredients","preferment","onPrefermentChange","onPrefermentDelete","onPrefermentedFlourChange","prefermentedFlour","onSeedChange","kind","SOURDOUGH","seed","onFlourChange","onFlourDelete","onIngredientDelete","onFlourReorder","onNewFlour","selectableFlours","filter","flour","has","selectableIngredients","ingredient","PrefermentTab","preferments","onPrefermentsChange","prefermentKind","setPrefermentKind","onNewPreferment","newPreferment","PREDOUGH","newPreferments","PrefermentPercentageListWrap","_onPrefermentChange","_onPrefermentDelete","ScaleBySelector","TotalAmountInput","IngredientsWeightList","ingredientsPercentage","ingredientsWeight","totalWeightSubtract","totalWeight","get","percentage","toFixed","calculateWeigths","scaleDoughFactor","overall","calculateIngredients","preferments_","calculatePreferments","final","calculateFinal","calculateScaleFactor","scaleBy","FLOUR","prefermentName","calculatePreferment","prefermentScaleDoughFactor","set","weight","Math","abs","checkFlours","err_title","errors","push","checkIngredients","checkPreferments","p","FinalDoughTable","totalAmount","recipeValidationErrors","validateRecipe","console","log","error","dough","scaleFactor","calculateDough","finalFlours","k","finalIngredients","finalIngredientsPercentage","FinalDoughTab","setScaleBy","setTotalAmount","finalDoughTable","RecipeItem","onLoad","button","routerDirection","RecipesList","recipes","onLoadRecipe","onDeleteRecipe","recipe","RecipeSaveAsAlert","inputs","buttons","text","role","cssClass","handler","RecipesTab","showSaveAsAlert","setShowSaveAsAlert","onSaveRecipe","toJSONObject","toJSONObjectRecipe","fromJSONObject","fromJSONObjectRecipe","toJSONObjectIngredients","toJSONObjectPreferments","fromJSONObjectIngredients","fromJSONObjectPreferments","toJSONObjectPreferment","fromJSONObjectPreferment","DEFAULT_FLOURS","DEFAULT_INGREDIENTS","DEFAULT_PREFERMENTS","DEFAULT_AVAILABLE_FLOURS","DEFAULT_AVAILABLE_INGREDIENTS","Tabs","setEditable","defaultRecipes","storedValue","window","localStorage","getItem","JSON","parse","useEffect","setItem","stringify","useRecipes","setRecipes","setRecipeEdited","saveAsAlert","setSaveAsAlert","setName","setFlours","setIngredients","setPreferments","setAvailableFlours","setAvailableIngredients","setWithRecipeEditedNotification","setSomething","something","setFloursWithRecipeEditedNotification","setIngredientsWithRecipeEditedNotification","setPrefermentsWithRecipeEditedNotification","removeDeletedIngredientsFromPreferments","deletedIngredients","updatedPreferments","updatedIngredients","i","includes","updatedPreferment","currentFlours","deletedFlours","currentIngredients","newRecipe","find","r","x","resetEditable","onIonTabsDidChange","id","path","render","exact","tab","href","restaurantOutline","arrowUndoOutline","calculatorOutline","bookOutline","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","code","ids"],"mappings":"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","file":"static/js/main.633a3d84.chunk.js","sourcesContent":["import { Ingredients, IngredientValue } from \"dataModel/Ingredient\";\n\nexport enum PrefermentKind {\n  PREDOUGH = \"PREDOUGH\",\n  SOURDOUGH = \"SOURDOUGH\",\n}\n\ntype BasePreferment = {\n  prefermentedFlour: IngredientValue;\n  flours: Ingredients;\n  ingredients: Ingredients;\n};\n\ntype PreDoughPreferment = {\n  kind: PrefermentKind.PREDOUGH;\n} & BasePreferment;\n\ntype SourdoughPreferment = {\n  kind: PrefermentKind.SOURDOUGH;\n  seed: IngredientValue;\n} & BasePreferment;\n\nexport type PrefermentName = string;\n\nexport type Preferment = PreDoughPreferment | SourdoughPreferment;\nexport type Preferments = Map<PrefermentName, Preferment>;\n","import React from \"react\";\nimport { IonAlert } from \"@ionic/react\";\nimport donate from \"assets/img/donate.gif\";\n\ntype Props = {\n  showAlert: boolean;\n  setShowAlert: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nlet InfoAlert: React.FC<Props> = ({ showAlert, setShowAlert }) => {\n  const message = `\n    <div class=\"ion-text-center\">\n      <p>\n        <a href=\"mailto:panificazionefavaglie@gmail.com?subject=BakerCalc\">\n          Info mail\n        </a>\n      </p>\n      <p>\n        If you like the App<br/>support me with a beer!<br/>Thank you\n      </p>\n      <p>\n        <a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=YWVFRGAC55UX4\">\n        <img src=${donate}>\n        </a>\n      </p>\n    </div>\n  `;\n\n  return <IonAlert isOpen={showAlert} onDidDismiss={() => setShowAlert(false)} header={\"Info\"} message={message} />;\n};\n\nexport default InfoAlert = React.memo(InfoAlert);\n","import React, { useState, useCallback } from \"react\";\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonButtons, IonButton, IonIcon } from \"@ionic/react\";\nimport { saveOutline, pencilOutline, informationCircleOutline, refreshOutline } from \"ionicons/icons\";\nimport InfoAlert from \"components/InfoAlert\";\n\ntype Props = {\n  title: string;\n  editActive?: boolean;\n  recipeEdited?: boolean;\n  showInfo?: boolean;\n  onEditToggle?(): void;\n  onSave?(): void;\n  onReset?(): void;\n};\n\nconst Tab: React.FC<Props> = ({\n  title,\n  editActive,\n  recipeEdited,\n  onEditToggle,\n  onSave,\n  onReset,\n  showInfo,\n  children,\n}) => {\n  const [showInfoAlert, setShowInfoAlert] = useState(false);\n\n  const onInfo = useCallback(() => setShowInfoAlert(true), [setShowInfoAlert]);\n\n  const editButton = onEditToggle ? (\n    <IonButton color=\"dark\" fill={editActive ? \"solid\" : undefined} onClick={onEditToggle}>\n      <IonIcon icon={pencilOutline} />\n    </IonButton>\n  ) : undefined;\n\n  const saveButton = onSave ? (\n    <IonButton color=\"dark\" fill={recipeEdited ? \"solid\" : undefined} routerLink=\"/recipes\" onClick={onSave}>\n      <IonIcon icon={saveOutline} />\n    </IonButton>\n  ) : undefined;\n\n  const infoButton = showInfo ? (\n    <IonButton color=\"dark\" onClick={onInfo}>\n      <IonIcon icon={informationCircleOutline} />\n    </IonButton>\n  ) : undefined;\n\n  const resetButton = onReset ? (\n    <IonButton color=\"dark\" onClick={onReset}>\n      <IonIcon icon={refreshOutline} />\n    </IonButton>\n  ) : undefined;\n\n  const infoAlert = showInfo ? <InfoAlert showAlert={showInfoAlert} setShowAlert={setShowInfoAlert} /> : undefined;\n\n  return (\n    <IonPage>\n      <IonHeader translucent={true}>\n        <IonToolbar color=\"toolbar\">\n          <IonButtons slot=\"start\">\n            {infoButton}\n            {resetButton}\n          </IonButtons>\n          <IonTitle>{title}</IonTitle>\n          <IonButtons slot=\"end\">\n            {saveButton}\n            {editButton}\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen={true} className=\"ion-padding\">\n        <IonHeader collapse=\"condense\" className=\"ion-padding-bottom\">\n          <IonToolbar>\n            <IonTitle size=\"large\">{title}</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        {infoAlert}\n        {children}\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Tab;\n","import React from \"react\";\nimport { IonTitle, IonToolbar, IonButton, IonIcon } from \"@ionic/react\";\nimport { trashOutline } from \"ionicons/icons\";\n\ntype Props = {\n  title: string;\n  onDelete?(): void;\n};\n\nlet IngredientsTitleToolbar: React.FC<Props> = ({ title, onDelete }) => {\n  const deleteButton = onDelete ? (\n    <IonButton size=\"small\" slot=\"end\" onClick={onDelete} fill=\"clear\">\n      <IonIcon slot=\"icon-only\" icon={trashOutline} />\n    </IonButton>\n  ) : undefined;\n\n  return (\n    <IonToolbar>\n      <IonTitle className=\"ion-text-center\">{title}</IonTitle>\n      {deleteButton}\n    </IonToolbar>\n  );\n};\n\nexport default IngredientsTitleToolbar = React.memo(IngredientsTitleToolbar);\n","import React, { useState, useCallback } from \"react\";\nimport { IonItem, IonInput, IonButton, IonIcon } from \"@ionic/react\";\nimport { InputChangeEventDetail } from \"@ionic/core\";\nimport { addOutline } from \"ionicons/icons\";\n\ntype Props = {\n  onNewItem?(name: string): void;\n};\n\nlet NewItemInput: React.FC<Props> = ({ onNewItem }) => {\n  const [newItem, setNewItem] = useState<string | undefined>(undefined);\n\n  const onClick = useCallback(() => {\n    onNewItem!(newItem!);\n    setNewItem(undefined);\n  }, [newItem, onNewItem, setNewItem]);\n\n  const onIonChange = useCallback(\n    (event: CustomEvent<InputChangeEventDetail>) => {\n      setNewItem(parseNewItem(event.detail.value));\n    },\n    [setNewItem]\n  );\n\n  return (\n    <IonItem lines=\"none\">\n      <IonInput required={true} type=\"text\" placeholder=\"New ...\" value={newItem} onIonChange={onIonChange} />\n      <IonButton\n        className=\"ion-no-padding\"\n        onClick={onClick}\n        fill=\"clear\"\n        disabled={!(newItem && onNewItem !== undefined)}\n      >\n        <IonIcon slot=\"icon-only\" icon={addOutline} />\n      </IonButton>\n    </IonItem>\n  );\n};\n\nconst parseNewItem = (value: string | undefined | null) => {\n  return value?.trim() ? value.trim() : undefined;\n};\n\nexport default NewItemInput = React.memo(NewItemInput);\n","import { InputChangeEventDetail } from \"@ionic/core\";\nimport { IngredientValue } from \"dataModel/Ingredient\";\n\ntype OnIonChange = (value: CustomEvent<InputChangeEventDetail>) => void;\ntype OnChangeFloat = (value?: number) => void;\n\nexport const onIonChangeFloat = (previousValue: number | undefined, onChangeFloat: OnChangeFloat): OnIonChange => {\n  return (event: CustomEvent<InputChangeEventDetail>) => {\n    if (event.detail.value?.endsWith(\",\") || event.detail.value?.endsWith(\".\")) {\n      return;\n    }\n\n    let newValue: number | undefined = undefined;\n\n    if (event.detail.value) {\n      newValue = parseFloat(event.detail.value.replace(\",\", \".\"));\n    }\n\n    if (newValue !== previousValue) {\n      onChangeFloat(newValue);\n    }\n  };\n};\n\nexport const sum = (...iterables: Iterable<IngredientValue>[]): NonNullable<IngredientValue> => {\n  let s = 0;\n\n  for (let iterable of iterables) {\n    for (let n of iterable) {\n      s += n || 0;\n    }\n  }\n\n  return s;\n};\n\nexport const listEquals = <T>(listA: T[], listB: T[]): boolean => {\n  if (listA.length !== listB.length) return false;\n\n  for (let idx = 0; idx < listA.length; idx++) {\n    for (let jdx = 0; jdx < listB.length; jdx++) {\n      if (listA[idx] !== listB[jdx]) return false;\n    }\n  }\n\n  return true;\n};\n\nexport const mapDelete = <K, V>(map: Map<K, V>, key: K): Map<K, V> => {\n  let newMap = new Map(map);\n  newMap.delete(key);\n  return newMap;\n};\n\nexport const mapMove = <K, V>(map: Map<K, V>, keyAtIdx: number, toIdx: number): Map<K, V> => {\n  let orderedKVPairs = [...map];\n  const movedKVPair = orderedKVPairs[keyAtIdx];\n\n  orderedKVPairs.splice(keyAtIdx, 1);\n  orderedKVPairs.splice(toIdx, 0, movedKVPair);\n\n  return new Map(orderedKVPairs);\n};\n","import React, { useCallback } from \"react\";\nimport { IonItem, IonLabel, IonInput, IonText, IonButton, IonIcon, IonReorder } from \"@ionic/react\";\nimport { trashOutline } from \"ionicons/icons\";\nimport { onIonChangeFloat } from \"components/utils\";\nimport { IngredientName, IngredientValue } from \"dataModel/Ingredient\";\n\ntype Props = {\n  name: IngredientName;\n  value: IngredientValue;\n  maxPercentage?: number;\n  editable: boolean;\n  onChange(name: IngredientName, value: IngredientValue): void;\n  onDelete?(name: IngredientName): void;\n};\n\nlet IngredientPercentageItem: React.FC<Props> = ({ name, value, maxPercentage, editable, onChange, onDelete }) => {\n  const onIonChange = useCallback(\n    onIonChangeFloat(value, (v) => onChange(name, v)),\n    [name, value, onChange]\n  );\n\n  let children: JSX.Element = <></>;\n\n  if (editable) {\n    if (onDelete) {\n      children = (\n        <>\n          <IonButton slot=\"end\" onClick={() => onDelete(name)} fill=\"clear\">\n            <IonIcon slot=\"icon-only\" icon={trashOutline} />\n          </IonButton>\n          <IonReorder slot=\"end\" className=\"ion-no-margin\" />\n        </>\n      );\n    }\n  } else {\n    children = (\n      <>\n        <IonInput\n          className=\"ion-padding-horizontal ion-text-right\"\n          type=\"number\"\n          inputMode=\"decimal\"\n          min=\"0\"\n          max={maxPercentage?.toString()}\n          value={value}\n          onIonChange={onIonChange}\n        />\n        <IonText>%</IonText>\n      </>\n    );\n  }\n\n  return (\n    <IonItem>\n      <IonLabel>{name}</IonLabel>\n      {children}\n    </IonItem>\n  );\n};\n\nexport default IngredientPercentageItem = React.memo(IngredientPercentageItem);\n","import React, { useCallback } from \"react\";\nimport { IonList, IonReorderGroup } from \"@ionic/react\";\nimport { ItemReorderEventDetail } from \"@ionic/core\";\nimport IngredientsTitleToolbar from \"components/IngredientsTitleToolbar\";\nimport NewItemInput from \"components/NewItemInput\";\nimport IngredientPercentageItem from \"components/IngredientPercentageItem\";\nimport { mapMove, mapDelete } from \"components/utils\";\nimport { IngredientName, Ingredients, IngredientValue } from \"dataModel/Ingredient\";\n\ntype Props = {\n  title: string;\n  ingredients: Ingredients;\n  maxPercentage?: number;\n  editable: boolean;\n  onIngredientsChange(ingredients: Ingredients): void;\n};\n\nlet IngredientsPercentageList: React.FC<Props> = ({\n  title,\n  ingredients,\n  maxPercentage,\n  editable,\n  onIngredientsChange,\n}) => {\n  const onIngredientChange = useCallback(\n    (name: IngredientName, value: IngredientValue) => onIngredientsChange(new Map([...ingredients, [name, value]])),\n    [ingredients, onIngredientsChange]\n  );\n\n  const onIngredientReorder = useCallback(\n    (event: CustomEvent<ItemReorderEventDetail>) => {\n      onIngredientsChange(mapMove(ingredients, event.detail.from, event.detail.to));\n      event.detail.complete();\n    },\n    [ingredients, onIngredientsChange]\n  );\n\n  const onNewIngredient = useCallback(\n    (name: IngredientName) => onIngredientsChange(new Map([...ingredients, [name, undefined]])),\n    [ingredients, onIngredientsChange]\n  );\n\n  const onDeleteIngredient = useCallback((name: IngredientName) => onIngredientsChange(mapDelete(ingredients, name)), [\n    ingredients,\n    onIngredientsChange,\n  ]);\n\n  return (\n    <IonList lines=\"none\">\n      <IngredientsTitleToolbar title={title} />\n      <IonReorderGroup disabled={!editable} onIonItemReorder={onIngredientReorder}>\n        {[...ingredients].map(([name, value]) => (\n          <IngredientPercentageItem\n            key={name}\n            name={name}\n            value={value}\n            maxPercentage={maxPercentage}\n            editable={editable}\n            onChange={onIngredientChange}\n            onDelete={onDeleteIngredient}\n          />\n        ))}\n      </IonReorderGroup>\n      <NewItemInput onNewItem={onNewIngredient} />\n    </IonList>\n  );\n};\n\nexport default IngredientsPercentageList = React.memo(IngredientsPercentageList);\n","import React from \"react\";\nimport IngredientsPercentageList from \"components/IngredientsPercentageList\";\nimport { Ingredients } from \"dataModel/Ingredient\";\n\ntype Props = {\n  flours: Ingredients;\n  ingredients: Ingredients;\n  editable: boolean;\n  onFloursChange(flours: Ingredients): void;\n  onIngredientsChange(flours: Ingredients): void;\n};\n\nlet OverallTab: React.FC<Props> = ({ flours, ingredients, editable, onFloursChange, onIngredientsChange }) => {\n  return (\n    <>\n      <IngredientsPercentageList\n        title=\"FLOURS\"\n        ingredients={flours}\n        maxPercentage={100}\n        onIngredientsChange={onFloursChange}\n        editable={editable}\n      />\n      <IngredientsPercentageList\n        title=\"INGREDIENTS\"\n        ingredients={ingredients}\n        maxPercentage={undefined}\n        onIngredientsChange={onIngredientsChange}\n        editable={editable}\n      />\n    </>\n  );\n};\n\nexport default OverallTab = React.memo(OverallTab);\n","import React, { useCallback } from \"react\";\nimport { IonItem, IonLabel, IonSelect, IonSelectOption } from \"@ionic/react\";\nimport { SelectChangeEventDetail } from \"@ionic/core\";\nimport { PrefermentKind } from \"dataModel/Preferment\";\n\ntype Props = {\n  value?: PrefermentKind;\n  onSelect(prefermentType: PrefermentKind): void;\n};\n\nlet PrefermentSelector: React.FC<Props> = ({ value, onSelect }) => {\n  const onIonChange = useCallback(\n    (event: CustomEvent<SelectChangeEventDetail>) => event.detail.value && onSelect(event.detail.value),\n    [onSelect]\n  );\n\n  return (\n    <IonItem lines=\"none\" color=\"light\">\n      <IonLabel>Kind</IonLabel>\n      <IonSelect interface=\"popover\" value={value} onIonChange={onIonChange}>\n        {Object.keys(PrefermentKind).map((value) => (\n          <IonSelectOption key={value} value={value}>\n            {value}\n          </IonSelectOption>\n        ))}\n      </IonSelect>\n    </IonItem>\n  );\n};\n\nexport default PrefermentSelector = React.memo(PrefermentSelector);\n","import { Ingredients } from \"dataModel/Ingredient\";\nimport { Preferments } from \"dataModel/Preferment\";\n\nexport enum ScaleBy {\n  DOUGH = \"DOUGH\",\n  FLOUR = \"FLOUR\",\n}\n\nexport type Recipe = {\n  name: string;\n  flours: Ingredients;\n  ingredients: Ingredients;\n  preferments: Preferments;\n};\n","import React, { useState } from \"react\";\nimport { IonItem, IonLabel, IonSelect, IonSelectOption } from \"@ionic/react\";\nimport { IngredientName } from \"dataModel/Ingredient\";\n\ntype Props = {\n  label: string;\n  values: IngredientName[];\n  onPick(value: IngredientName): void;\n};\n\nlet IngredientPicker: React.FC<Props> = ({ label, values, onPick }) => {\n  const [value, setValue] = useState<string | undefined>(undefined);\n\n  return (\n    <IonItem lines=\"none\" color=\"light\">\n      <IonLabel>{label}</IonLabel>\n      <IonSelect\n        disabled={values.length === 0}\n        interface=\"popover\"\n        value={value}\n        onIonChange={(e) => {\n          if (!e.detail.value) return;\n\n          onPick(e.detail.value);\n          setValue(undefined);\n        }}\n      >\n        {[...values].map((value) => (\n          <IonSelectOption key={value} value={value}>\n            {value}\n          </IonSelectOption>\n        ))}\n      </IonSelect>\n    </IonItem>\n  );\n};\n\nexport default IngredientPicker = React.memo(IngredientPicker);\n","import React, { useCallback } from \"react\";\nimport { IonList, IonReorderGroup } from \"@ionic/react\";\nimport { ItemReorderEventDetail } from \"@ionic/core\";\nimport IngredientsTitleToolbar from \"components/IngredientsTitleToolbar\";\nimport IngredientPercentageItem from \"components/IngredientPercentageItem\";\nimport IngredientPicker from \"components/IngredientPicker\";\nimport { mapDelete, mapMove } from \"components/utils\";\nimport { Preferment, PrefermentKind } from \"dataModel/Preferment\";\nimport { IngredientName, IngredientValue } from \"dataModel/Ingredient\";\n\ntype Props = {\n  title: string;\n  availableFlours: IngredientName[];\n  availableIngredients: IngredientName[];\n  preferment: Preferment;\n  editable: boolean;\n  onPrefermentChange(preferment: Preferment): void;\n  onPrefermentDelete(): void;\n};\n\nlet PrefermentPercentageList: React.FC<Props> = ({\n  title,\n  availableFlours,\n  availableIngredients,\n  preferment,\n  editable,\n  onPrefermentChange,\n  onPrefermentDelete,\n}) => {\n  const onPrefermentedFlourChange = useCallback(\n    (name: IngredientName, value: IngredientValue) => onPrefermentChange({ ...preferment, prefermentedFlour: value }),\n    [preferment, onPrefermentChange]\n  );\n\n  const onSeedChange = useCallback(\n    (name: IngredientName, value: IngredientValue) => {\n      if (preferment.kind === PrefermentKind.SOURDOUGH) onPrefermentChange({ ...preferment, seed: value });\n    },\n    [preferment, onPrefermentChange]\n  );\n\n  const onFlourChange = useCallback(\n    (name: IngredientName, value: IngredientValue) =>\n      onPrefermentChange({ ...preferment, flours: new Map([...preferment.flours, [name, value]]) }),\n    [preferment, onPrefermentChange]\n  );\n\n  const onIngredientChange = useCallback(\n    (name: IngredientName, value: IngredientValue) =>\n      onPrefermentChange({ ...preferment, ingredients: new Map([...preferment.ingredients, [name, value]]) }),\n    [preferment, onPrefermentChange]\n  );\n\n  const onFlourDelete = useCallback(\n    (name: IngredientName) => onPrefermentChange({ ...preferment, flours: mapDelete(preferment.flours, name) }),\n    [preferment, onPrefermentChange]\n  );\n\n  const onIngredientDelete = useCallback(\n    (name: IngredientName) =>\n      onPrefermentChange({ ...preferment, ingredients: mapDelete(preferment.ingredients, name) }),\n    [preferment, onPrefermentChange]\n  );\n\n  const onFlourReorder = useCallback(\n    (event: CustomEvent<ItemReorderEventDetail>) => {\n      onPrefermentChange({\n        ...preferment,\n        flours: mapMove(preferment.flours, event.detail.from, event.detail.to),\n      });\n      event.detail.complete();\n    },\n    [preferment, onPrefermentChange]\n  );\n\n  const onIngredientReorder = useCallback(\n    (event: CustomEvent<ItemReorderEventDetail>) => {\n      onPrefermentChange({\n        ...preferment,\n        ingredients: mapMove(preferment.ingredients, event.detail.from, event.detail.to),\n      });\n      event.detail.complete();\n    },\n    [preferment, onPrefermentChange]\n  );\n\n  const onNewFlour = useCallback(\n    (name: IngredientName) => {\n      onPrefermentChange({ ...preferment, flours: new Map([...preferment.flours, [name, undefined]]) });\n    },\n    [preferment, onPrefermentChange]\n  );\n\n  const onNewIngredient = useCallback(\n    (name: IngredientName) => {\n      onPrefermentChange({ ...preferment, ingredients: new Map([...preferment.ingredients, [name, undefined]]) });\n    },\n    [preferment, onPrefermentChange]\n  );\n\n  const selectableFlours = availableFlours.filter((flour) => !preferment.flours.has(flour));\n  const selectableIngredients = availableIngredients.filter((ingredient) => !preferment.ingredients.has(ingredient));\n\n  return (\n    <IonList lines=\"none\">\n      <IngredientsTitleToolbar title={title} onDelete={editable ? onPrefermentDelete : undefined} />\n      <IngredientPercentageItem\n        name=\"Prefermented flour\"\n        value={preferment.prefermentedFlour}\n        maxPercentage={100}\n        editable={editable}\n        onChange={onPrefermentedFlourChange}\n      />\n      {preferment.kind === PrefermentKind.SOURDOUGH ? (\n        <IngredientPercentageItem\n          name=\"Sourdough starter\"\n          value={preferment.seed}\n          maxPercentage={100}\n          editable={editable}\n          onChange={onSeedChange}\n        />\n      ) : undefined}\n      <IonReorderGroup disabled={!editable} onIonItemReorder={onFlourReorder}>\n        {[...preferment.flours].map(([name, value]) => (\n          <IngredientPercentageItem\n            key={name}\n            name={name}\n            value={value}\n            maxPercentage={100}\n            editable={editable}\n            onChange={onFlourChange}\n            onDelete={onFlourDelete}\n          />\n        ))}\n      </IonReorderGroup>\n      <IonReorderGroup disabled={!editable} onIonItemReorder={onIngredientReorder}>\n        {[...preferment.ingredients].map(([name, value]) => {\n          return (\n            <IngredientPercentageItem\n              key={name}\n              name={name}\n              value={value}\n              maxPercentage={100}\n              editable={editable}\n              onChange={onIngredientChange}\n              onDelete={onIngredientDelete}\n            />\n          );\n        })}\n      </IonReorderGroup>\n      <IngredientPicker label=\"Pick flour\" values={selectableFlours} onPick={onNewFlour} />\n      <IngredientPicker label=\"Pick ingredient\" values={selectableIngredients} onPick={onNewIngredient} />\n    </IonList>\n  );\n};\n\nexport default PrefermentPercentageList = React.memo(PrefermentPercentageList);\n","import React, { useState, useCallback } from \"react\";\nimport NewItemInput from \"components/NewItemInput\";\nimport PrefermentSelector from \"components/PrefermentSelector\";\nimport PrefermentPercentageList from \"components/PrefermentPercentageList\";\nimport {\n  Preferments,\n  PrefermentKind,\n  Preferment as PrefermentT,\n  PrefermentName,\n  Preferment,\n} from \"dataModel/Preferment\";\nimport { IngredientName } from \"dataModel/Ingredient\";\n\ntype Props = {\n  availableFlours: IngredientName[];\n  availableIngredients: IngredientName[];\n  preferments: Preferments;\n  editable: boolean;\n  onPrefermentsChange(preferments: Preferments): void;\n};\n\nlet PrefermentTab: React.FC<Props> = ({\n  availableFlours,\n  availableIngredients,\n  preferments,\n  editable,\n  onPrefermentsChange,\n}) => {\n  const [prefermentKind, setPrefermentKind] = useState<PrefermentKind | undefined>(undefined);\n\n  const onNewPreferment = useCallback(\n    (name: string) => {\n      let newPreferment: PrefermentT;\n\n      if (prefermentKind === PrefermentKind.PREDOUGH)\n        newPreferment = {\n          kind: PrefermentKind.PREDOUGH,\n          prefermentedFlour: undefined,\n          flours: new Map(),\n          ingredients: new Map(),\n        };\n      else\n        newPreferment = {\n          kind: PrefermentKind.SOURDOUGH,\n          prefermentedFlour: undefined,\n          flours: new Map(),\n          ingredients: new Map(),\n          seed: undefined,\n        };\n\n      onPrefermentsChange(new Map([...preferments, [name, newPreferment]]));\n      setPrefermentKind(undefined);\n    },\n    [prefermentKind, preferments, onPrefermentsChange, setPrefermentKind]\n  );\n\n  const onPrefermentChange = useCallback(\n    (name: PrefermentName, preferment: PrefermentT) =>\n      onPrefermentsChange(new Map([...preferments, [name, preferment]])),\n    [preferments, onPrefermentsChange]\n  );\n\n  const onPrefermentDelete = useCallback(\n    (name: PrefermentName) => {\n      let newPreferments = new Map(preferments);\n      newPreferments.delete(name);\n      onPrefermentsChange(newPreferments);\n    },\n    [preferments, onPrefermentsChange]\n  );\n\n  return (\n    <>\n      <div className=\"ion-padding-bottom\">\n        <PrefermentSelector value={prefermentKind} onSelect={setPrefermentKind} />\n        <NewItemInput onNewItem={prefermentKind ? onNewPreferment : undefined} />\n      </div>\n      {[...preferments].map(([name, preferment]) => (\n        <div key={name} className=\"border-top ion-padding-vertical\">\n          <PrefermentPercentageListWrap\n            name={name}\n            availableFlours={availableFlours}\n            availableIngredients={availableIngredients}\n            preferment={preferment}\n            editable={editable}\n            onPrefermentChange={onPrefermentChange}\n            onPrefermentDelete={onPrefermentDelete}\n          />\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default PrefermentTab = React.memo(PrefermentTab);\n\ntype XProps = {\n  name: PrefermentName;\n  availableFlours: IngredientName[];\n  availableIngredients: IngredientName[];\n  preferment: Preferment;\n  editable: boolean;\n  onPrefermentChange(name: PrefermentName, preferment: Preferment): void;\n  onPrefermentDelete(name: PrefermentName): void;\n};\n\nconst PrefermentPercentageListWrap: React.FC<XProps> = React.memo(\n  ({ name, availableFlours, availableIngredients, preferment, editable, onPrefermentChange, onPrefermentDelete }) => {\n    const _onPrefermentChange = useCallback((preferment: PrefermentT) => onPrefermentChange(name, preferment), [\n      name,\n      onPrefermentChange,\n    ]);\n\n    const _onPrefermentDelete = useCallback(() => onPrefermentDelete(name), [name, onPrefermentDelete]);\n\n    return (\n      <PrefermentPercentageList\n        title={name}\n        availableFlours={availableFlours}\n        availableIngredients={availableIngredients}\n        preferment={preferment}\n        editable={editable}\n        onPrefermentChange={_onPrefermentChange}\n        onPrefermentDelete={_onPrefermentDelete}\n      />\n    );\n  }\n);\n","import React, { useCallback } from \"react\";\nimport { IonItem, IonLabel, IonSelect, IonSelectOption } from \"@ionic/react\";\nimport { SelectChangeEventDetail } from \"@ionic/core\";\nimport { ScaleBy } from \"dataModel/Recipe\";\n\ntype Props = {\n  onSelect(scaleBy: ScaleBy): void;\n};\n\nlet ScaleBySelector: React.FC<Props> = ({ onSelect }) => {\n  const onIonChange = useCallback((event: CustomEvent<SelectChangeEventDetail>) => onSelect(event.detail.value), [\n    onSelect,\n  ]);\n\n  return (\n    <IonItem lines=\"none\" color=\"light\">\n      <IonLabel>Scale by</IonLabel>\n      <IonSelect interface=\"popover\" onIonChange={onIonChange}>\n        {Object.keys(ScaleBy).map((value) => (\n          <IonSelectOption key={value} value={value}>\n            {value}\n          </IonSelectOption>\n        ))}\n      </IonSelect>\n    </IonItem>\n  );\n};\n\nexport default ScaleBySelector = React.memo(ScaleBySelector);\n","import React from \"react\";\nimport { IonItem, IonLabel, IonInput, IonText } from \"@ionic/react\";\nimport { onIonChangeFloat } from \"components/utils\";\n\ntype Props = {\n  value?: number;\n  onChange(value?: number): void;\n};\n\nconst TotalAmountInput: React.FC<Props> = ({ value, onChange }) => {\n  return (\n    <IonItem lines=\"none\">\n      <IonLabel>Total amount</IonLabel>\n      <IonInput\n        className=\"ion-padding-horizontal ion-text-right\"\n        type=\"number\"\n        inputMode=\"decimal\"\n        min=\"0\"\n        value={value}\n        onIonChange={onIonChangeFloat(value, onChange)}\n      />\n      <IonText>g</IonText>\n    </IonItem>\n  );\n};\n\nexport default TotalAmountInput;\n","import React from \"react\";\nimport { IonList, IonGrid, IonRow, IonCol, IonText } from \"@ionic/react\";\nimport { Ingredients } from \"dataModel/Ingredient\";\nimport IngredientsTitleToolbar from \"components/IngredientsTitleToolbar\";\nimport { sum } from \"components/utils\";\n\ntype Props = {\n  title: string;\n  ingredientsPercentage: Ingredients;\n  ingredientsWeight: Ingredients;\n  totalWeightSubtract?: number;\n};\n\nlet IngredientsWeightList: React.FC<Props> = ({\n  title,\n  ingredientsPercentage,\n  ingredientsWeight,\n  totalWeightSubtract,\n}) => {\n  const totalWeight = sum(ingredientsWeight.values()) - (totalWeightSubtract || 0);\n\n  return (\n    <IonList lines=\"none\">\n      <IngredientsTitleToolbar title={title} />\n      <IonGrid>\n        <IonRow color=\"light\">\n          <IonCol className=\"ion-text-start\">\n            <strong>INGREDIENT</strong>\n          </IonCol>\n          <IonCol size=\"2\" className=\"ion-text-end\">\n            <strong>%</strong>\n          </IonCol>\n          <IonCol className=\"ion-text-end\">\n            <strong>WEIGHT</strong>\n          </IonCol>\n        </IonRow>\n        {[...ingredientsPercentage]\n          .filter(([name, percentage]) => ingredientsWeight.has(name) && ingredientsWeight.get(name) !== 0)\n          .map(([name, percentage], idx) => (\n            <IonRow key={`${idx}-${name}`} className={idx % 2 === 0 ? \"background-light\" : undefined}>\n              <IonCol className=\"ion-text-start\">{name}</IonCol>\n              <IonCol size=\"2\" className=\"ion-text-end\">\n                {percentage}\n              </IonCol>\n              <IonCol className=\"ion-text-end\">\n                {ingredientsWeight.get(name)?.toFixed(2) || <IonText color=\"danger\">ERROR !</IonText>}\n              </IonCol>\n            </IonRow>\n          ))}\n        <IonRow>\n          <IonCol className=\"ion-text-start\"></IonCol>\n          <IonCol size=\"2\" className=\"ion-text-end\"></IonCol>\n          <IonCol className=\"ion-text-end\">\n            {totalWeight?.toFixed(2) || <IonText color=\"danger\">ERROR !</IonText>}\n          </IonCol>\n        </IonRow>\n      </IonGrid>\n    </IonList>\n  );\n};\n\nexport default IngredientsWeightList = React.memo(IngredientsWeightList);\n","import { ScaleBy } from \"dataModel/Recipe\";\nimport { Ingredients, IngredientValue } from \"dataModel/Ingredient\";\nimport { Preferment, Preferments, PrefermentKind, PrefermentName } from \"dataModel/Preferment\";\nimport { sum } from \"components/utils\";\n\ntype CalcPreferment = {\n  kind: PrefermentKind;\n  ingredients: Ingredients;\n  seed?: IngredientValue;\n};\n\ntype CalcPreferments = Map<PrefermentName, CalcPreferment>;\n\ntype CalcDough = {\n  overall: Ingredients;\n  preferments: CalcPreferments;\n  final: Ingredients;\n};\n\nexport const calculateDough = (\n  flours: Ingredients,\n  ingredients: Ingredients,\n  preferments: Preferments,\n  scaleBy: ScaleBy,\n  totalAmount: number\n): CalcDough => {\n  const scaleFactor = calculateScaleFactor(flours, ingredients, scaleBy);\n  const scaleDoughFactor = totalAmount / scaleFactor;\n\n  return calculateWeigths(flours, ingredients, preferments, scaleDoughFactor);\n};\n\nconst calculateWeigths = (\n  flours: Ingredients,\n  ingredients: Ingredients,\n  preferments: Preferments,\n  scaleDoughFactor: number\n): CalcDough => {\n  const overall = new Map([\n    ...calculateIngredients(flours, scaleDoughFactor),\n    ...calculateIngredients(ingredients, scaleDoughFactor),\n  ]);\n  const preferments_ = calculatePreferments(preferments, scaleDoughFactor);\n  const final = calculateFinal(overall, preferments_);\n\n  return {\n    overall: overall,\n    preferments: preferments_,\n    final: final,\n  };\n};\n\nconst calculateScaleFactor = (flours: Ingredients, ingredients: Ingredients, scaleBy: ScaleBy): number => {\n  return scaleBy === ScaleBy.FLOUR ? 100 : sum(flours.values(), ingredients.values());\n};\n\nconst calculateIngredients = (ingredients: Ingredients, scaleDoughFactor: number): Ingredients => {\n  return new Map([...ingredients].map(([name, value]) => [name, value! * scaleDoughFactor]));\n};\n\nconst calculatePreferments = (preferments: Preferments, scaleDoughFactor: number): CalcPreferments => {\n  return new Map(\n    [...preferments].map(([prefermentName, preferment]) => [\n      prefermentName,\n      calculatePreferment(preferment, scaleDoughFactor),\n    ])\n  );\n};\n\nconst calculatePreferment = (preferment: Preferment, scaleDoughFactor: number): CalcPreferment => {\n  const prefermentScaleDoughFactor = scaleDoughFactor * (preferment.prefermentedFlour! / 100);\n  let ingredients = new Map([\n    ...calculateIngredients(preferment.ingredients, prefermentScaleDoughFactor),\n    ...calculateIngredients(preferment.flours, prefermentScaleDoughFactor),\n  ]);\n  let seed = undefined;\n\n  if (preferment.kind === PrefermentKind.SOURDOUGH) {\n    seed = preferment.seed! * prefermentScaleDoughFactor;\n    ingredients.set(\"(sourdough seed)\", seed);\n  }\n\n  return {\n    kind: preferment.kind,\n    ingredients: ingredients,\n    seed: seed,\n  };\n};\n\nconst calculateFinal = (overall: Ingredients, preferments: CalcPreferments): Ingredients => {\n  const final = new Map([...overall]);\n\n  for (let ingredient of overall.keys()) {\n    let weight: IngredientValue =\n      final.get(ingredient)! -\n      sum([...preferments.values()].map((preferment) => preferment.ingredients.get(ingredient) || 0));\n\n    if (Math.abs(weight) <= 0.01) {\n      weight = 0;\n    }\n\n    if (weight < 0) {\n      weight = undefined;\n    }\n\n    final.set(ingredient, weight);\n  }\n\n  return final;\n};\n","import { Ingredients } from \"dataModel/Ingredient\";\nimport { sum } from \"components/utils\";\nimport { Preferments } from \"dataModel/Preferment\";\n\nexport type RecipeValidationErrors = string[];\n\nexport const validateRecipe = (\n  flours: Ingredients,\n  ingredients: Ingredients,\n  preferments: Preferments\n): RecipeValidationErrors => {\n  const errors: RecipeValidationErrors = [];\n\n  errors.push(...checkFlours(flours, \"OVERALL\"));\n  errors.push(...checkIngredients(ingredients, \"OVERALL\"));\n  errors.push(...checkPreferments(preferments));\n\n  return errors;\n};\n\nconst checkFlours = (flours: Ingredients, err_title: string): RecipeValidationErrors => {\n  const errors: RecipeValidationErrors = [];\n\n  for (let [name, value] of flours) {\n    if (value === undefined) {\n      errors.push(`[${err_title}] Undefined flour value: '${name}'`);\n    }\n  }\n\n  if (sum(flours.values()) !== 100) {\n    errors.push(`[${err_title}] Bad flours percentage, the sum should be 100%`);\n  }\n\n  return errors;\n};\n\nconst checkIngredients = (ingredients: Ingredients, err_title: string): RecipeValidationErrors => {\n  const errors: RecipeValidationErrors = [];\n\n  for (let [name, value] of ingredients) {\n    if (value === undefined) {\n      errors.push(`[${err_title}] Undefined ingredient value: '${name}'`);\n    }\n  }\n\n  return errors;\n};\n\nconst checkPreferments = (preferments: Preferments): RecipeValidationErrors => {\n  const errors: RecipeValidationErrors = [];\n\n  for (let [name, value] of preferments) {\n    if (value.prefermentedFlour === undefined) {\n      errors.push(\"Undefined prefermented flour value\");\n    }\n\n    errors.push(...checkFlours(value.flours, `PREFERMENT ${name}`));\n    errors.push(...checkIngredients(value.ingredients, `PREFERMENT ${name}`));\n  }\n\n  if (sum([...preferments.values()].map((p) => p.prefermentedFlour)) > 100) {\n    errors.push(\"Total prefermented flour > 100%\");\n  }\n\n  return errors;\n};\n","import React from \"react\";\nimport { ScaleBy } from \"dataModel/Recipe\";\nimport IngredientsWeightList from \"components/IngredientsWeightList\";\nimport { calculateDough } from \"components/Calculator\";\nimport { validateRecipe } from \"components/RecipeValidator\";\nimport { Preferments } from \"dataModel/Preferment\";\nimport { Ingredients, IngredientName } from \"dataModel/Ingredient\";\n\ntype Props = {\n  flours: Ingredients;\n  ingredients: Ingredients;\n  preferments: Preferments;\n  scaleBy: ScaleBy;\n  totalAmount: number;\n};\n\nlet FinalDoughTable: React.FC<Props> = ({ flours, ingredients, preferments, scaleBy, totalAmount }) => {\n  const recipeValidationErrors = validateRecipe(flours, ingredients, preferments);\n\n  if (recipeValidationErrors.length > 0) {\n    // TODO diagnostic\n    console.log(recipeValidationErrors);\n    return (\n      <div className=\"ion-padding\">\n        <strong>RECIPE NOT VALID</strong>\n        <ul>\n          {recipeValidationErrors.map((error, idx) => (\n            <li key={idx}>{error}</li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n\n  const dough = calculateDough(flours, ingredients, preferments, scaleBy, totalAmount);\n\n  const finalFlours = [...flours.keys()].map<[IngredientName, undefined]>((k) => [k, undefined]);\n  const finalIngredients = [...ingredients.keys()].map<[IngredientName, undefined]>((k) => [k, undefined]);\n  const finalIngredientsPercentage = new Map([...finalFlours, ...finalIngredients]);\n\n  return (\n    <>\n      <IngredientsWeightList\n        title=\"OVERALL\"\n        ingredientsPercentage={new Map([...flours, ...ingredients])}\n        ingredientsWeight={dough.overall}\n      />\n      {[...dough.preferments].map(([prefermentName, preferment]) => {\n        let ingredientsPercentage = new Map([\n          ...preferments.get(prefermentName)!.flours,\n          ...preferments.get(prefermentName)!.ingredients,\n        ]);\n\n        if (preferment.seed) {\n          ingredientsPercentage.set(\"(sourdough seed)\", preferment.seed);\n        }\n\n        return (\n          <IngredientsWeightList\n            key={prefermentName}\n            title={prefermentName}\n            ingredientsPercentage={ingredientsPercentage}\n            ingredientsWeight={preferment.ingredients}\n            totalWeightSubtract={preferment.seed}\n          />\n        );\n      })}\n      <IngredientsWeightList\n        title=\"FINAL DOUGH\"\n        ingredientsPercentage={finalIngredientsPercentage}\n        ingredientsWeight={dough.final}\n      />\n    </>\n  );\n};\n\nexport default FinalDoughTable = React.memo(FinalDoughTable);\n","import React, { useState } from \"react\";\nimport ScaleBySelector from \"components/ScaleBySelector\";\nimport TotalAmountInput from \"components/TotalAmountInput\";\nimport FinalDoughTable from \"components/FinalDoughTable\";\nimport { ScaleBy } from \"dataModel/Recipe\";\nimport { Ingredients } from \"dataModel/Ingredient\";\nimport { Preferments } from \"dataModel/Preferment\";\n\ntype Props = {\n  flours: Ingredients;\n  ingredients: Ingredients;\n  preferments: Preferments;\n};\n\nlet FinalDoughTab: React.FC<Props> = ({ flours, ingredients, preferments }) => {\n  const [scaleBy, setScaleBy] = useState<ScaleBy | undefined>(undefined);\n  const [totalAmount, setTotalAmount] = useState<number | undefined>(undefined);\n\n  const finalDoughTable =\n    scaleBy && totalAmount ? (\n      <FinalDoughTable\n        flours={flours}\n        ingredients={ingredients}\n        preferments={preferments}\n        scaleBy={scaleBy}\n        totalAmount={totalAmount}\n      />\n    ) : undefined;\n\n  return (\n    <>\n      <div className=\"ion-padding-bottom\">\n        <ScaleBySelector onSelect={setScaleBy} />\n        <TotalAmountInput value={totalAmount} onChange={setTotalAmount} />\n      </div>\n      <div className=\"border-top ion-padding-vertical\">{finalDoughTable}</div>\n    </>\n  );\n};\n\nexport default FinalDoughTab = React.memo(FinalDoughTab);\n","import React from \"react\";\nimport { IonLabel, IonItem, IonButton, IonIcon } from \"@ionic/react\";\nimport { trashOutline } from \"ionicons/icons\";\n\ntype Props = {\n  name: string;\n  editable: boolean;\n  onLoad(): void;\n  onDelete(): void;\n};\n\nlet RecipeItem: React.FC<Props> = ({ name, editable, onLoad, onDelete }) => {\n  if (editable) {\n    return (\n      <IonItem>\n        <IonLabel>{name}</IonLabel>\n        <IonButton slot=\"end\" onClick={onDelete} fill=\"clear\">\n          <IonIcon slot=\"icon-only\" icon={trashOutline} />\n        </IonButton>\n      </IonItem>\n    );\n  } else {\n    return (\n      <IonItem button onClick={onLoad} routerLink=\"/overallTab\" routerDirection=\"none\" detail={false}>\n        <IonLabel>{name}</IonLabel>\n      </IonItem>\n    );\n  }\n};\n\nexport default RecipeItem = React.memo(RecipeItem);\n","import React from \"react\";\nimport { IonList } from \"@ionic/react\";\nimport { Recipe } from \"dataModel/Recipe\";\nimport RecipeItem from \"./RecipeItem\";\n\ntype Props = {\n  recipes: Recipe[];\n  editable: boolean;\n  onLoadRecipe(recipe: Recipe): void;\n  onDeleteRecipe(recipe: Recipe): void;\n};\n\nlet RecipesList: React.FC<Props> = ({ recipes, editable, onLoadRecipe, onDeleteRecipe }) => {\n  return (\n    <IonList>\n      {recipes.map((recipe) => (\n        <RecipeItem\n          key={recipe.name}\n          name={recipe.name}\n          editable={editable}\n          onLoad={() => onLoadRecipe(recipe)}\n          onDelete={() => onDeleteRecipe(recipe)}\n        />\n      ))}\n    </IonList>\n  );\n};\n\nexport default RecipesList = React.memo(RecipesList);\n","import React from \"react\";\nimport { IonAlert } from \"@ionic/react\";\n\ntype Props = {\n  name: string;\n  showAlert: boolean;\n  setShowAlert: React.Dispatch<React.SetStateAction<boolean>>;\n  onSave(name: string): void;\n};\n\nlet RecipeSaveAsAlert: React.FC<Props> = ({ name, showAlert, setShowAlert, onSave }) => {\n  return (\n    <IonAlert\n      isOpen={showAlert}\n      onDidDismiss={() => setShowAlert(false)}\n      header={\"Save recipe\"}\n      inputs={[\n        {\n          name: \"name\",\n          type: \"text\",\n          value: name,\n        },\n      ]}\n      buttons={[\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          cssClass: \"secondary\",\n        },\n        {\n          text: \"Ok\",\n          handler: onSave,\n        },\n      ]}\n    />\n  );\n};\n\nexport default RecipeSaveAsAlert = React.memo(RecipeSaveAsAlert);\n","import React from \"react\";\nimport { Recipe } from \"dataModel/Recipe\";\nimport RecipesList from \"components/RecipesList\";\nimport RecipeSaveAsAlert from \"components/RecipeSaveAsAlert\";\n\ntype Props = {\n  editable: boolean;\n  name: string;\n  recipes: Recipe[];\n  showSaveAsAlert: boolean;\n  setShowSaveAsAlert: React.Dispatch<React.SetStateAction<boolean>>;\n  onSaveRecipe(name: string): void;\n  onLoadRecipe(recipe: Recipe): void;\n  onDeleteRecipe(recipe: Recipe): void;\n};\n\nlet RecipesTab: React.FC<Props> = ({\n  editable,\n  name,\n  recipes,\n  showSaveAsAlert,\n  setShowSaveAsAlert,\n  onSaveRecipe,\n  onLoadRecipe,\n  onDeleteRecipe,\n}) => {\n  return (\n    <>\n      <RecipeSaveAsAlert\n        name={name}\n        showAlert={showSaveAsAlert}\n        setShowAlert={setShowSaveAsAlert}\n        onSave={onSaveRecipe}\n      />\n      <RecipesList recipes={recipes} editable={editable} onLoadRecipe={onLoadRecipe} onDeleteRecipe={onDeleteRecipe} />\n    </>\n  );\n};\n\nexport default RecipesTab = React.memo(RecipesTab);\n","import { useState, useEffect } from \"react\";\nimport { Recipe } from \"dataModel/Recipe\";\nimport { Ingredients } from \"dataModel/Ingredient\";\nimport { Preferments, Preferment, PrefermentKind } from \"dataModel/Preferment\";\n\nexport const useRecipes = (): [Recipe[], React.Dispatch<React.SetStateAction<Recipe[]>>] => {\n  const localStorageKey = \"recipes\";\n  const defaultRecipes: Recipe[] = [];\n\n  const [value, setValue] = useState<Recipe[]>(() => {\n    const storedValue = window.localStorage.getItem(localStorageKey);\n\n    return storedValue !== null ? fromJSONObject(JSON.parse(storedValue)) : defaultRecipes;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(localStorageKey, JSON.stringify(toJSONObject(value)));\n  }, [localStorageKey, value]);\n\n  return [value, setValue];\n};\n\nconst toJSONObject = (recipes: Recipe[]) => {\n  return recipes.map(toJSONObjectRecipe);\n};\n\nconst fromJSONObject = (recipes: ReturnType<typeof toJSONObject>): Recipe[] => {\n  return recipes.map(fromJSONObjectRecipe);\n};\n\nconst toJSONObjectRecipe = (recipe: Recipe) => {\n  return {\n    name: recipe.name,\n    flours: toJSONObjectIngredients(recipe.flours),\n    ingredients: toJSONObjectIngredients(recipe.ingredients),\n    preferments: toJSONObjectPreferments(recipe.preferments),\n  };\n};\n\nconst fromJSONObjectRecipe = (recipe: ReturnType<typeof toJSONObjectRecipe>): Recipe => {\n  return {\n    name: recipe.name,\n    flours: fromJSONObjectIngredients(recipe.flours),\n    ingredients: fromJSONObjectIngredients(recipe.ingredients),\n    preferments: fromJSONObjectPreferments(recipe.preferments),\n  };\n};\n\nconst toJSONObjectIngredients = (ingredients: Ingredients) => {\n  return [...ingredients];\n};\nconst fromJSONObjectIngredients = (ingredients: ReturnType<typeof toJSONObjectIngredients>): Ingredients => {\n  return new Map(ingredients);\n};\n\nconst toJSONObjectPreferments = (preferments: Preferments) => {\n  return [...preferments].map<[string, ReturnType<typeof toJSONObjectPreferment>]>(([name, preferment]) => [\n    name,\n    toJSONObjectPreferment(preferment),\n  ]);\n};\nconst fromJSONObjectPreferments = (preferments: ReturnType<typeof toJSONObjectPreferments>): Preferments => {\n  return new Map(preferments.map(([name, preferment]) => [name, fromJSONObjectPreferment(preferment)]));\n};\n\nconst toJSONObjectPreferment = (preferment: Preferment) => {\n  if (preferment.kind === PrefermentKind.PREDOUGH) {\n    return {\n      kind: preferment.kind,\n      prefermentedFlour: preferment.prefermentedFlour,\n      flours: toJSONObjectIngredients(preferment.flours),\n      ingredients: toJSONObjectIngredients(preferment.ingredients),\n    };\n  } else {\n    return {\n      kind: preferment.kind,\n      prefermentedFlour: preferment.prefermentedFlour,\n      seed: preferment.seed,\n      flours: toJSONObjectIngredients(preferment.flours),\n      ingredients: toJSONObjectIngredients(preferment.ingredients),\n    };\n  }\n};\n\nconst fromJSONObjectPreferment = (preferment: ReturnType<typeof toJSONObjectPreferment>): Preferment => {\n  if (preferment.kind === PrefermentKind.PREDOUGH) {\n    return {\n      kind: preferment.kind,\n      prefermentedFlour: preferment.prefermentedFlour,\n      flours: fromJSONObjectIngredients(preferment.flours),\n      ingredients: fromJSONObjectIngredients(preferment.ingredients),\n    };\n  } else {\n    return {\n      kind: preferment.kind,\n      prefermentedFlour: preferment.prefermentedFlour,\n      seed: preferment.seed,\n      flours: fromJSONObjectIngredients(preferment.flours),\n      ingredients: fromJSONObjectIngredients(preferment.ingredients),\n    };\n  }\n};\n","import React, { useState, useCallback } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { IonLabel, IonRouterOutlet, IonTabBar, IonTabButton, IonTabs, IonIcon } from \"@ionic/react\";\nimport { calculatorOutline, restaurantOutline, arrowUndoOutline, bookOutline } from \"ionicons/icons\";\nimport Tab from \"pages/tabs/Tab\";\nimport OverallTab from \"pages/tabs/OverallTab\";\nimport PrefermentTab from \"pages/tabs/PrefermentTab\";\nimport FinalDoughTab from \"pages/tabs/FinalDoughTab\";\nimport RecipesTab from \"pages/tabs/RecipesTab\";\nimport { Preferments } from \"dataModel/Preferment\";\nimport { Ingredients, IngredientName } from \"dataModel/Ingredient\";\nimport { listEquals } from \"components/utils\";\nimport { Recipe } from \"dataModel/Recipe\";\nimport { useRecipes } from \"dataModel/Persistence\";\n\nconst DEFAULT_EDITABLE = false;\nconst DEFAULT_NAME = \"Untitled\";\nconst DEFAULT_FLOURS: Ingredients = new Map();\nconst DEFAULT_INGREDIENTS: Ingredients = new Map();\nconst DEFAULT_PREFERMENTS: Preferments = new Map();\nconst DEFAULT_AVAILABLE_FLOURS: IngredientName[] = [];\nconst DEFAULT_AVAILABLE_INGREDIENTS: IngredientName[] = [];\n\nconst Tabs: React.FC = () => {\n  const [editable, setEditable] = useState(DEFAULT_EDITABLE);\n\n  const [recipes, setRecipes] = useRecipes();\n  const [recipeEdited, setRecipeEdited] = useState(false);\n  const [saveAsAlert, setSaveAsAlert] = useState(false);\n\n  const [name, setName] = useState(DEFAULT_NAME);\n  const [flours, setFlours] = useState(DEFAULT_FLOURS);\n  const [ingredients, setIngredients] = useState(DEFAULT_INGREDIENTS);\n  const [preferments, setPreferments] = useState(DEFAULT_PREFERMENTS);\n\n  const [availableFlours, setAvailableFlours] = useState(DEFAULT_AVAILABLE_FLOURS);\n  const [availableIngredients, setAvailableIngredients] = useState(DEFAULT_AVAILABLE_INGREDIENTS);\n\n  const setWithRecipeEditedNotification = useCallback(\n    <Something,>(setSomething: React.Dispatch<React.SetStateAction<Something>>) => {\n      return (something: Something) => {\n        setSomething(something);\n        setRecipeEdited(true);\n      };\n    },\n    [setRecipeEdited]\n  );\n\n  const setFloursWithRecipeEditedNotification = useCallback(setWithRecipeEditedNotification(setFlours), [\n    setWithRecipeEditedNotification,\n    setFlours,\n  ]);\n  const setIngredientsWithRecipeEditedNotification = useCallback(setWithRecipeEditedNotification(setIngredients), [\n    setWithRecipeEditedNotification,\n    setIngredients,\n  ]);\n  const setPrefermentsWithRecipeEditedNotification = useCallback(setWithRecipeEditedNotification(setPreferments), [\n    setWithRecipeEditedNotification,\n    setPreferments,\n  ]);\n\n  const removeDeletedIngredientsFromPreferments = useCallback(\n    (kind: \"flours\" | \"ingredients\", deletedIngredients: IngredientName[]) => {\n      let updatedPreferments = preferments;\n\n      for (let [prefermentName, preferment] of preferments) {\n        const updatedIngredients = new Map([...preferment[kind]].filter(([i, v]) => !deletedIngredients.includes(i)));\n\n        if (updatedIngredients.size !== preferment[kind].size) {\n          const updatedPreferment = { ...preferment, [kind]: updatedIngredients };\n          updatedPreferments = new Map([...updatedPreferments, [prefermentName, updatedPreferment]]);\n        }\n      }\n\n      if (updatedPreferments !== preferments) {\n        setPrefermentsWithRecipeEditedNotification(updatedPreferments);\n      }\n    },\n    [preferments, setPrefermentsWithRecipeEditedNotification]\n  );\n\n  const onFloursChange = useCallback(\n    (currentFlours: Ingredients) => {\n      setFloursWithRecipeEditedNotification(currentFlours);\n\n      if (!listEquals([...currentFlours.keys()], [...flours.keys()])) {\n        setAvailableFlours([...currentFlours.keys()]);\n      }\n\n      const deletedFlours = [...flours.keys()].filter((i) => !currentFlours.has(i));\n\n      if (deletedFlours.length !== 0) {\n        removeDeletedIngredientsFromPreferments(\"flours\", deletedFlours);\n      }\n    },\n    [setFloursWithRecipeEditedNotification, removeDeletedIngredientsFromPreferments, flours]\n  );\n\n  const onIngredientsChange = useCallback(\n    (currentIngredients: Ingredients) => {\n      setIngredientsWithRecipeEditedNotification(currentIngredients);\n\n      if (!listEquals([...currentIngredients.keys()], [...ingredients.keys()])) {\n        setAvailableIngredients([...currentIngredients.keys()]);\n      }\n\n      const deletedIngredients = [...ingredients.keys()].filter((i) => !currentIngredients.has(i));\n\n      if (deletedIngredients.length !== 0) {\n        removeDeletedIngredientsFromPreferments(\"ingredients\", deletedIngredients);\n      }\n    },\n    [setIngredientsWithRecipeEditedNotification, removeDeletedIngredientsFromPreferments, ingredients]\n  );\n\n  const onEditToggle = useCallback(() => setEditable((editable) => !editable), [setEditable]);\n\n  const onSaveRecipe = useCallback(\n    ({ name }) => {\n      const newRecipe: Recipe = {\n        name: name,\n        flours: flours,\n        ingredients: ingredients,\n        preferments: preferments,\n      };\n\n      if (recipes.find((r) => r.name === newRecipe.name) !== undefined) {\n        setRecipes((recipes) => recipes.map((r) => (r.name === newRecipe.name ? newRecipe : r)));\n      } else {\n        setRecipes((recipes) => [...recipes, newRecipe]);\n      }\n\n      setName(name);\n      setRecipeEdited(false);\n    },\n    [recipes, flours, ingredients, preferments, setRecipes, setRecipeEdited, setName]\n  );\n\n  const onSave = useCallback(() => {\n    setSaveAsAlert(true);\n  }, [setSaveAsAlert]);\n\n  const onLoadRecipe = useCallback(\n    (recipe: Recipe) => {\n      setName(recipe.name);\n      setFlours(recipe.flours);\n      setIngredients(recipe.ingredients);\n      setPreferments(recipe.preferments);\n      setAvailableFlours([...recipe.flours.keys()]);\n      setAvailableIngredients([...recipe.ingredients.keys()]);\n      setRecipeEdited(false);\n    },\n    [setName, setFlours, setIngredients, setPreferments, setAvailableFlours, setAvailableIngredients]\n  );\n\n  const onDeleteRecipe = useCallback(\n    (recipe: Recipe): void => setRecipes((recipes) => recipes.filter((x) => x !== recipe)),\n    [setRecipes]\n  );\n\n  const onReset = useCallback(() => {\n    setEditable(DEFAULT_EDITABLE);\n    setName(DEFAULT_NAME);\n    setFlours(DEFAULT_FLOURS);\n    setIngredients(DEFAULT_INGREDIENTS);\n    setPreferments(DEFAULT_PREFERMENTS);\n    setAvailableFlours(DEFAULT_AVAILABLE_FLOURS);\n    setAvailableIngredients(DEFAULT_AVAILABLE_INGREDIENTS);\n    setRecipeEdited(false);\n  }, [\n    setEditable,\n    setName,\n    setFlours,\n    setIngredients,\n    setPreferments,\n    setAvailableFlours,\n    setAvailableIngredients,\n    setRecipeEdited,\n  ]);\n\n  const resetEditable = useCallback(() => {\n    if (editable) setEditable(false);\n  }, [editable, setEditable]);\n\n  return (\n    <IonTabs onIonTabsDidChange={resetEditable}>\n      <IonRouterOutlet id=\"main\">\n        <Route\n          path=\"/overallTab\"\n          render={() => (\n            <Tab\n              title={name}\n              editActive={editable}\n              recipeEdited={recipeEdited}\n              onEditToggle={onEditToggle}\n              onSave={onSave}\n              onReset={onReset}\n              showInfo={true}\n            >\n              <OverallTab\n                flours={flours}\n                ingredients={ingredients}\n                editable={editable}\n                onFloursChange={onFloursChange}\n                onIngredientsChange={onIngredientsChange}\n              />\n            </Tab>\n          )}\n          exact={true}\n        />\n        <Route\n          path=\"/prefermentTab\"\n          render={() => (\n            <Tab\n              title={name}\n              editActive={editable}\n              recipeEdited={recipeEdited}\n              onEditToggle={onEditToggle}\n              onSave={onSave}\n              onReset={onReset}\n            >\n              <PrefermentTab\n                availableFlours={availableFlours}\n                availableIngredients={availableIngredients}\n                preferments={preferments}\n                editable={editable}\n                onPrefermentsChange={setPrefermentsWithRecipeEditedNotification}\n              />\n            </Tab>\n          )}\n          exact={true}\n        />\n        <Route\n          path=\"/finalDough\"\n          render={() => (\n            <Tab title={name} recipeEdited={recipeEdited} onSave={onSave} onReset={onReset}>\n              <FinalDoughTab flours={flours} ingredients={ingredients} preferments={preferments} />\n            </Tab>\n          )}\n          exact={true}\n        />\n        <Route\n          path=\"/recipes\"\n          render={() => (\n            <Tab title=\"Recipes\" editActive={editable} onEditToggle={onEditToggle}>\n              <RecipesTab\n                editable={editable}\n                name={name}\n                recipes={recipes}\n                showSaveAsAlert={saveAsAlert}\n                setShowSaveAsAlert={setSaveAsAlert}\n                onSaveRecipe={onSaveRecipe}\n                onLoadRecipe={onLoadRecipe}\n                onDeleteRecipe={onDeleteRecipe}\n              />\n            </Tab>\n          )}\n          exact={true}\n        />\n        <Route path=\"/\" render={() => <Redirect to=\"/overallTab\" />} exact={true} />\n      </IonRouterOutlet>\n      <IonTabBar slot=\"bottom\">\n        <IonTabButton tab=\"overallTab\" href=\"/overallTab\">\n          <IonIcon icon={restaurantOutline} />\n          <IonLabel>OVERALL</IonLabel>\n        </IonTabButton>\n        <IonTabButton tab=\"prefermentTab\" href=\"/prefermentTab\">\n          <IonIcon icon={arrowUndoOutline} />\n          <IonLabel>PREFERMENT</IonLabel>\n        </IonTabButton>\n        <IonTabButton tab=\"finalDough\" href=\"/finalDough\">\n          <IonIcon icon={calculatorOutline} />\n          <IonLabel>DOUGH</IonLabel>\n        </IonTabButton>\n        <IonTabButton tab=\"recipes\" href=\"/recipes\">\n          <IonIcon icon={bookOutline} />\n          <IonLabel>RECIPES</IonLabel>\n        </IonTabButton>\n      </IonTabBar>\n    </IonTabs>\n  );\n};\n\nexport default Tabs;\n","import React from \"react\";\nimport { IonApp } from \"@ionic/react\";\nimport { IonReactRouter } from \"@ionic/react-router\";\nimport Tabs from \"pages/Tabs\";\n\n/* Core CSS required for Ionic components to work properly */\nimport \"@ionic/react/css/core.css\";\n\n/* Basic CSS for apps built with Ionic */\nimport \"@ionic/react/css/normalize.css\";\nimport \"@ionic/react/css/structure.css\";\nimport \"@ionic/react/css/typography.css\";\n\n/* Optional CSS utils that can be commented out */\nimport \"@ionic/react/css/padding.css\";\nimport \"@ionic/react/css/float-elements.css\";\nimport \"@ionic/react/css/text-alignment.css\";\nimport \"@ionic/react/css/text-transformation.css\";\nimport \"@ionic/react/css/flex-utils.css\";\nimport \"@ionic/react/css/display.css\";\n\n/* Theme variables */\nimport \"theme/variables.css\";\nimport \"theme/custom.css\";\n\nconst App: React.FC = () => {\n  return (\n    <IonApp>\n      <IonReactRouter>\n        <Tabs />\n      </IonReactRouter>\n    </IonApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"App\";\nimport * as serviceWorker from \"serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nserviceWorker.register();\n","module.exports = \"data:image/gif;base64,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\"","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t111,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t112,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t113,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t114,\n\t\t18\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t115,\n\t\t19\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t116,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t117,\n\t\t20\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t118,\n\t\t21\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t119,\n\t\t22\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t120,\n\t\t23\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t121,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t122,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t123,\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t124,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t125,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t126,\n\t\t25\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t127,\n\t\t26\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t128,\n\t\t27\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t129,\n\t\t28\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t130,\n\t\t29\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t131,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t132,\n\t\t15\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t133,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t134,\n\t\t30\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t135,\n\t\t31\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t136,\n\t\t32\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t137,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t138,\n\t\t17\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t139,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t140,\n\t\t33\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t141,\n\t\t34\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t142,\n\t\t35\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t143,\n\t\t36\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t144,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t145,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t146,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t147,\n\t\t37\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t148,\n\t\t16\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t149,\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t150,\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t151,\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t152,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t153,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 70;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t157,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 92;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}